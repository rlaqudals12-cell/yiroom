# SDD: ì „ë¬¸ ì»¨ì„¤íŒ… ê³ ë„í™” ë³´ì™„ ë¬¸ì„œ

> **Status**: ğŸ“‹ Planned (ë³´ì™„ ë¬¸ì„œ)
> **Version**: 2.1
> **Created**: 2026-01-13
> **Updated**: 2026-01-28

> ìë£Œ ì¡°ì‚¬ ê²°ê³¼ + ë¹ ì§„ ë¶€ë¶„ ê²€í†  + ì„¤ì • ê°€ì´ë“œ
> ë©”ì¸ ìŠ¤í™: [SDD-PROFESSIONAL-ENHANCEMENT](./SDD-PROFESSIONAL-ENHANCEMENT.md)

---

## 0. ê¶ê·¹ì˜ í˜•íƒœ (P1)

### ì´ìƒì  ìµœì¢… ìƒíƒœ

```
"ì›í™œí•œ ë¶„ì„ ê²½í—˜ - ì´ë¯¸ì§€ ì¬ì‚¬ìš© + ìˆœì„œ ê°€ì´ë“œ + ì™„ë²½í•œ ì˜¤ë¥˜ ì²˜ë¦¬"

9ê°œ ëˆ„ë½ í•­ëª© ì™„ì „ êµ¬í˜„:
1. ì´ë¯¸ì§€ ì¬ì‚¬ìš© íë¦„: PC-1 â†’ F-1 â†’ S-1 ìë™ ì—°ê³„
2. ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ: ìµœì  ìˆœì„œ ì¶”ì²œ + ì¸í„°ë™í‹°ë¸Œ ì§„í–‰
3. ì›¹-ëª¨ë°”ì¼ ë™ê¸°í™”: ì–´ëŠ ê¸°ê¸°ì—ì„œë“  ë™ì¼í•œ ë¶„ì„ ê²°ê³¼
4. ë‹¤êµ­ì–´ ì§€ì›: ì„±ë¶„ëª… 10ê°œ ì–¸ì–´ ìë™ ë²ˆì—­
5. ì˜¤í”„ë¼ì¸ ëª¨ë“œ: ì„±ë¶„ DB ë¡œì»¬ ìºì‹±ìœ¼ë¡œ ë¬´ì¤‘ë‹¨ ë¶„ì„
6. íˆìŠ¤í† ë¦¬ ê´€ë¦¬: ëª¨ë“  ë¶„ì„ ê²°ê³¼ íƒ€ì„ë¼ì¸ + ë¹„êµ ê¸°ëŠ¥
7. ì ‘ê·¼ì„± ì™„ë²½ ì§€ì›: WCAG 2.1 AAA ë‹¬ì„±
8. ì—ëŸ¬ í•¸ë“¤ë§: ëª¨ë“  ì‹¤íŒ¨ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ìš°ì•„í•œ ë³µêµ¬
9. ì„±ëŠ¥ ìµœì í™”: ëª¨ë“  ë¶„ì„ 3ì´ˆ ì´ë‚´ ì™„ë£Œ
```

### ë¬¼ë¦¬ì  í•œê³„

| í•œê³„ | ì„¤ëª… |
|------|------|
| ì´ë¯¸ì§€ í’ˆì§ˆ ì˜ì¡´ | ì €í™”ì§ˆ ì´ë¯¸ì§€ ì¬ì‚¬ìš© ë¶ˆê°€ |
| ë„¤íŠ¸ì›Œí¬ í•„ìš” | AI ë¶„ì„ì€ ì˜¨ë¼ì¸ í•„ìˆ˜ |
| ë²ˆì—­ ì •í™•ë„ | ì „ë¬¸ ì„±ë¶„ëª… ìë™ ë²ˆì—­ í•œê³„ |
| í”Œë«í¼ ì œì•½ | iOS/Android ì˜¤í”„ë¼ì¸ ë™ê¸°í™” ì°¨ì´ |

### 100ì  ê¸°ì¤€

| í•­ëª© | 100% ê¸°ì¤€ | í˜„ì¬ | ë‹¬ì„±ë¥  |
|------|----------|------|--------|
| ì´ë¯¸ì§€ ì¬ì‚¬ìš© íë¦„ | PC-1â†’F-1â†’S-1 ìë™ ì—°ê³„ | ë¯¸êµ¬í˜„ | 0% |
| ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ | ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œ UI | ë¯¸êµ¬í˜„ | 0% |
| ì›¹-ëª¨ë°”ì¼ ë™ê¸°í™” | ì‹¤ì‹œê°„ ë™ê¸°í™” | ADR ì‘ì„±ë¨ | 15% |
| ë‹¤êµ­ì–´ ì§€ì› | 10ê°œ ì–¸ì–´ ì„±ë¶„ëª… | ë¯¸ì • | 0% |
| ì˜¤í”„ë¼ì¸ ëª¨ë“œ | ì™„ì „ ì˜¤í”„ë¼ì¸ ë¶„ì„ | ë¯¸ì • | 0% |
| íˆìŠ¤í† ë¦¬ ê´€ë¦¬ | íƒ€ì„ë¼ì¸ + ë¹„êµ | ì¼ë¶€ ì¡´ì¬ | 30% |
| ì ‘ê·¼ì„± (a11y) | WCAG AAA | ë¶€ë¶„ êµ¬í˜„ | 40% |
| ì—ëŸ¬ í•¸ë“¤ë§ | ëª¨ë“  ì¼€ì´ìŠ¤ ì²˜ë¦¬ | ë¯¸êµ¬í˜„ | 0% |
| ì„±ëŠ¥ ì§€í‘œ | 3ì´ˆ ì´ë‚´ ì‘ë‹µ | ë¯¸ì„¤ì • | 0% |

### í˜„ì¬ ëª©í‘œ

**ì¢…í•© ë‹¬ì„±ë¥ **: **10%** (ë³´ì™„ í•­ëª© ì‹ë³„ ë° ì„¤ê³„ ë‹¨ê³„)

- MVP: ì´ë¯¸ì§€ ì¬ì‚¬ìš© + ì—ëŸ¬ í•¸ë“¤ë§ (40%)
- ì¤‘ê¸°: íˆìŠ¤í† ë¦¬ ê´€ë¦¬ + ì„±ëŠ¥ ìµœì í™” (70%)
- ì¥ê¸°: ë‹¤êµ­ì–´ + ì˜¤í”„ë¼ì¸ + ì ‘ê·¼ì„± AAA (100%)

### ì˜ë„ì  ì œì™¸

| ì œì™¸ í•­ëª© | ì´ìœ  | ì¬ê²€í†  ì‹œì  |
|----------|------|------------|
| ì‹¤ì‹œê°„ ë‹¤êµ­ì–´ ìŒì„± ì•ˆë‚´ | ë¹„ìš©/ë³µì¡ë„ | ì‚¬ìš©ì ìš”ì²­ ì‹œ |
| AI ê¸°ë°˜ ë¶„ì„ ìˆœì„œ ìµœì í™” | ê³¼ë„í•œ ë³µì¡ì„± | ë°ì´í„° ì¶•ì  í›„ |
| AR ì´ë¯¸ì§€ ê°€ì´ë“œ | ê¸°ìˆ  ì„±ìˆ™ë„ | 2027ë…„ |

---

### ê´€ë ¨ ë¬¸ì„œ

#### ì›ë¦¬ ë¬¸ì„œ

- [ì›ë¦¬: í¬ë¡œìŠ¤ ë„ë©”ì¸ ì‹œë„ˆì§€](../principles/cross-domain-synergy.md) - ëª¨ë“ˆ ê°„ ë°ì´í„° ê³µìœ 
- [ì›ë¦¬: AI ì¶”ë¡ ](../principles/ai-inference.md) - ë¶„ì„ ì •í™•ë„

#### ADR

- [ADR-003: AI ëª¨ë¸ ì„ íƒ](../adr/ADR-003-ai-model-selection.md)
- [ADR-011: Cross-Module ë°ì´í„° íë¦„](../adr/ADR-011-cross-module-data-flow.md)
- [ADR-016: ì›¹-ëª¨ë°”ì¼ ë°ì´í„° ë™ê¸°í™”](../adr/ADR-016-web-mobile-sync.md)

#### ê´€ë ¨ ìŠ¤í™

- [SDD-PROFESSIONAL-ENHANCEMENT](./SDD-PROFESSIONAL-ENHANCEMENT.md) - ë©”ì¸ ìŠ¤í™

---

## Part 1: ê¸°ì¡´ ê³„íš ê²€í†  ë° ë¹ ì§„ ë¶€ë¶„

### 1.1 ê²€í†  ê²°ê³¼: ì¶”ê°€ í•„ìš” í•­ëª©

| í•­ëª©               | ìƒíƒœ    | ì„¤ëª…                          |
| ------------------ | ------- | ----------------------------- |
| ì´ë¯¸ì§€ ì¬ì‚¬ìš© íë¦„ | âŒ ëˆ„ë½ | PC-1 ì´ë¯¸ì§€ â†’ F-1 ì¬ì‚¬ìš© ë¡œì§ |
| ì‚¬ìš©ì ì—¬ì • íë¦„   | âŒ ëˆ„ë½ | ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ              |
| ëª¨ë°”ì¼ ì•± ë™ê¸°í™”   | âŒ ëˆ„ë½ | ì›¹-ëª¨ë°”ì¼ ë¶„ì„ ê²°ê³¼ ê³µìœ       |
| ë‹¤êµ­ì–´ ì§€ì›        | âš ï¸ ë¯¸ì • | ì„±ë¶„ëª… ë‹¤êµ­ì–´ ë§¤í•‘            |
| ì˜¤í”„ë¼ì¸ ëª¨ë“œ      | âš ï¸ ë¯¸ì • | ì„±ë¶„ DB ë¡œì»¬ ìºì‹±             |
| ë¶„ì„ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ | âŒ ëˆ„ë½ | F-1 íˆìŠ¤í† ë¦¬ í˜ì´ì§€           |
| ì ‘ê·¼ì„± (a11y)      | âš ï¸ ë¶€ë¶„ | ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì› ìƒì„¸í™”       |
| ì—ëŸ¬ í•¸ë“¤ë§        | âŒ ëˆ„ë½ | ë¶„ì„ ì‹¤íŒ¨ ì‹œ UX               |
| ì„±ëŠ¥ ì§€í‘œ          | âŒ ëˆ„ë½ | ë¡œë”© ì‹œê°„ ëª©í‘œ ì„¤ì •           |

### 1.2 ì¶”ê°€í•´ì•¼ í•  ê¸°ëŠ¥ ìƒì„¸

#### 1.2.1 ì´ë¯¸ì§€ ì¬ì‚¬ìš© íë¦„ (PC-1 â†’ F-1)

```
PC-1 ë¶„ì„ ì™„ë£Œ ì‹œ:
â”œâ”€â”€ ì •ë©´ ì´ë¯¸ì§€ ì €ì¥ (face_image_url)
â”œâ”€â”€ ì¢Œì¸¡ ì´ë¯¸ì§€ ì €ì¥ (left_image_url) - ì„ íƒ
â””â”€â”€ ìš°ì¸¡ ì´ë¯¸ì§€ ì €ì¥ (right_image_url) - ì„ íƒ

F-1 ë¶„ì„ ì‹œì‘ ì‹œ:
â”œâ”€â”€ PC-1 ì´ë¯¸ì§€ ì¡´ì¬ í™•ì¸
â”œâ”€â”€ ì¬ì‚¬ìš© ì—¬ë¶€ ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸
â”‚   â”œâ”€â”€ "ì˜ˆ" â†’ PC-1 ì´ë¯¸ì§€ë¡œ ë¶„ì„ ì‹œì‘
â”‚   â””â”€â”€ "ì•„ë‹ˆì˜¤" â†’ ìƒˆ ì´ë¯¸ì§€ ì´¬ì˜
â””â”€â”€ ìƒˆ ì´¬ì˜ ì‹œì—ë„ PC-1ì— ì €ì¥ (ë‹¤ìŒ ë¶„ì„ìš©)
```

**API ì„¤ê³„**:

```typescript
// POST /api/analyze/face
interface FaceAnalysisRequest {
  // ìƒˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ
  imageUrl?: string;

  // PC-1 ì´ë¯¸ì§€ ì¬ì‚¬ìš©
  reuseFromPcId?: string;

  // ì¬ì‚¬ìš© ì˜µì…˜
  reuseOptions?: {
    useFrontImage: boolean;
    useLeftImage?: boolean;
    useRightImage?: boolean;
  };
}
```

#### 1.2.2 ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ

**ê¶Œì¥ ë¶„ì„ ìˆœì„œ**:

```
1ë‹¨ê³„: PC-1 í¼ìŠ¤ë„ì»¬ëŸ¬ (í•„ìˆ˜)
â””â”€ ì´ìœ : ê°€ì¥ ê¸°ë³¸, ë‹¤ë¥¸ ë¶„ì„ì˜ ê¸°ì¤€ì 

2ë‹¨ê³„: F-1 ì–¼êµ´í˜• (ê¶Œì¥)
â””â”€ ì´ìœ : PC-1 ì´ë¯¸ì§€ ì¬ì‚¬ìš© ê°€ëŠ¥

3ë‹¨ê³„: S-1 í”¼ë¶€ (ì„ íƒ)
â””â”€ ì´ìœ : PC-1/F-1 ì´ë¯¸ì§€ ì¬ì‚¬ìš© ê°€ëŠ¥

4ë‹¨ê³„: C-1 ì²´í˜• (ì„ íƒ)
â””â”€ ì´ìœ : ë³„ë„ ì „ì‹  ì‚¬ì§„ í•„ìš”
```

**UI êµ¬í˜„**:

```
ë¶„ì„ í—ˆë¸Œì—ì„œ ìˆœì„œ ì•ˆë‚´ ë°°ë„ˆ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ                  â”‚
â”‚                                     â”‚
â”‚ 1. í¼ìŠ¤ë„ì»¬ëŸ¬ â†’ 2. ì–¼êµ´í˜• â†’ ...     â”‚
â”‚                                     â”‚
â”‚ í¼ìŠ¤ë„ì»¬ëŸ¬ ë¶„ì„ì„ ë¨¼ì € í•˜ë©´          â”‚
â”‚ ê°™ì€ ì‚¬ì§„ìœ¼ë¡œ ì–¼êµ´í˜•ê¹Œì§€ ë¶„ì„í•´ìš”!   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2.3 ë¶„ì„ íˆìŠ¤í† ë¦¬ ê´€ë¦¬

**F-1 íˆìŠ¤í† ë¦¬ í˜ì´ì§€ ì¶”ê°€**:

```
/analysis/face/history
â”œâ”€â”€ ë¶„ì„ ê²°ê³¼ ëª©ë¡ (ë‚ ì§œìˆœ)
â”œâ”€â”€ ê²°ê³¼ ë¹„êµ ê¸°ëŠ¥
â””â”€â”€ ì´ì „ ë¶„ì„ ì¬ì¡°íšŒ
```

**DB ì¿¼ë¦¬**:

```sql
SELECT * FROM face_analyses
WHERE clerk_user_id = $1
ORDER BY created_at DESC
LIMIT 10;
```

#### 1.2.4 ì—ëŸ¬ í•¸ë“¤ë§ UX

**ë¶„ì„ ì‹¤íŒ¨ ì‹œ ì‹œë‚˜ë¦¬ì˜¤**:

| ì—ëŸ¬ ìœ í˜•        | ì‚¬ìš©ì ë©”ì‹œì§€               | ì•¡ì…˜                |
| ---------------- | --------------------------- | ------------------- |
| ì–¼êµ´ ê°ì§€ ì‹¤íŒ¨   | "ì–¼êµ´ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”"     | ì´¬ì˜ ê°€ì´ë“œ í‘œì‹œ    |
| ì´ë¯¸ì§€ í’ˆì§ˆ ë‚®ìŒ | "ì¡°ëª…ì´ ë¶€ì¡±í•´ìš”"           | ì¡°ëª… íŒ í‘œì‹œ        |
| API íƒ€ì„ì•„ì›ƒ     | "ë¶„ì„ì´ ì˜¤ë˜ ê±¸ë¦¬ê³  ìˆì–´ìš”" | ì¬ì‹œë„ ë²„íŠ¼         |
| ì„œë²„ ì—ëŸ¬        | "ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”" | Mock ê²°ê³¼ ì œê³µ ì˜µì…˜ |

**ì»´í¬ë„ŒíŠ¸ ì„¤ê³„**:

```typescript
interface AnalysisErrorProps {
  errorType: 'no_face' | 'low_quality' | 'timeout' | 'server_error';
  onRetry: () => void;
  onUseMock?: () => void; // ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©
}
```

#### 1.2.5 ì„±ëŠ¥ ì§€í‘œ ëª©í‘œ

| í•­ëª©                   | ëª©í‘œ    | ì¸¡ì • ë°©ë²•        |
| ---------------------- | ------- | ---------------- |
| ë¶„ì„ ì‹œì‘ â†’ ê²°ê³¼       | < 5ì´ˆ   | API ì‘ë‹µ ì‹œê°„    |
| ì´ë¯¸ì§€ ì—…ë¡œë“œ          | < 2ì´ˆ   | Supabase Storage |
| í˜ì´ì§€ ë¡œë”© (FCP)      | < 1.5ì´ˆ | Lighthouse       |
| ìƒí˜¸ì‘ìš© ê°€ëŠ¥ (TTI)    | < 3ì´ˆ   | Lighthouse       |
| ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´ ë Œë”ë§ | < 500ms | Performance API  |

---

## Part 2: UI/UX ë””ìì¸ ê°€ì´ë“œ

### 2.1 ë„¤ë¹„ê²Œì´ì…˜ íŒ¨í„´

#### í˜„ì¬ êµ¬ì¡° ìœ ì§€ (ê¶Œì¥)

**ì›¹ ì•±**:

- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” (ë¡œê³ , ë©”ë‰´, í”„ë¡œí•„)
- ë¶„ì„ í—ˆë¸Œì—ì„œ ì¹´ë“œ ê¸°ë°˜ ëª¨ë“ˆ ì„ íƒ

**ëª¨ë°”ì¼ ì•±**:

- í•˜ë‹¨ 5íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (í˜„ì¬ êµ¬ì¡° ìœ ì§€)
- íƒ­: í™ˆ, ìš´ë™, ì˜ì–‘, ê¸°ë¡, í”„ë¡œí•„

#### í–„ë²„ê±° ë©”ë‰´ ì‚¬ìš© ì§€ì–‘

```
âŒ í–„ë²„ê±° ë©”ë‰´ ë¬¸ì œì :
- ë°œê²¬ì„±(discoverability) ë‚®ìŒ
- 2015ë…„ê²½ ì¸ê¸°ì˜€ìœ¼ë‚˜ í˜„ì¬ íê¸° ì¶”ì„¸
- iOS Human Interface Guidelinesì—ì„œ ì§€ì–‘

âœ… ëŒ€ì•ˆ:
- íƒ­ ë°” + ë”ë³´ê¸° íƒ­
- Bottom Sheetë¡œ ì¶”ê°€ ì˜µì…˜ í‘œì‹œ
```

### 2.2 FAB (Floating Action Button) ìµœì‹  íŠ¸ë Œë“œ

#### Material Design 3 Expressive (2025)

**í˜„ì¬ êµ¬í˜„ (í”¼ë¶€ ë¶„ì„ ê²°ê³¼ í˜ì´ì§€)**:

```
FAB ë©”ë‰´ íŒ¨í„´ (í™•ì¥í˜•):
â”Œâ”€ í´ë Œì§• ê°€ì´ë“œ
â”œâ”€ ë§ì¶¤ ì œí’ˆ
â”œâ”€ AI í”¼ë¶€ ìƒë‹´
â”œâ”€ ë‹¤ì‹œ ë¶„ì„
â””â”€ ê³µìœ í•˜ê¸°

[ë©”ì¸ FAB ë²„íŠ¼]
```

**ê°œì„  ì œì•ˆ**:

```
Material Design 3 ê¶Œì¥ì‚¬í•­:
- FAB í¬ê¸°: 56x56dp (ê¶Œì¥)
- í„°ì¹˜ íƒ€ê²Ÿ: ìµœì†Œ 48x48dp
- í•˜ë‹¨ ì•±ë°” í†µí•© ì˜µì…˜ ê²€í† 
- ì• ë‹ˆë©”ì´ì…˜: ë¶€ë“œëŸ¬ìš´ í™•ì¥/ì¶•ì†Œ (200-300ms)
```

### 2.3 Progressive Disclosure íŒ¨í„´

**3ë‹¨ê³„ ì •ë³´ ê³µê°œ**:

```
Level 1 (ê¸°ë³¸): ê²°ê³¼ ìš”ì•½
â”œâ”€ "ë‹¹ì‹ ì€ í•˜íŠ¸í˜• ì–¼êµ´ì…ë‹ˆë‹¤"
â”œâ”€ ì‹ ë¢°ë„: 88%
â””â”€ [ë” ì•Œì•„ë³´ê¸°] ë²„íŠ¼

Level 2 (ì¤‘ê¸‰): ê·¼ê±° ì„¤ëª…
â”œâ”€ "ì´ë§ˆ(13.2cm)ê°€ ê´‘ëŒ€(13.8cm)ì™€ ë¹„ìŠ·í•˜ê³ ..."
â”œâ”€ ì¸¡ì •ê°’ ì°¨íŠ¸
â””â”€ [ê³¼í•™ì  ê·¼ê±°] ë²„íŠ¼

Level 3 (ì „ë¬¸ê°€): ìƒì„¸ ë°ì´í„°
â”œâ”€ ê¸¸ì´/ë„ˆë¹„ ë¹„ìœ¨: 1.42
â”œâ”€ ì´ë§ˆ/í„±ì„  ë¹„ìœ¨: 1.15
â”œâ”€ í„± ê°ë„: 125Â°
â””â”€ ì°¸ê³  ë…¼ë¬¸/ì—°êµ¬
```

**êµ¬í˜„ ì»´í¬ë„ŒíŠ¸**:

```typescript
interface ProgressiveDisclosureProps {
  level1: React.ReactNode; // í•­ìƒ í‘œì‹œ
  level2: React.ReactNode; // í¼ì³¤ì„ ë•Œ
  level3?: React.ReactNode; // ë” ìì„¸íˆ
  defaultLevel?: 1 | 2 | 3;
}
```

### 2.4 ì¹´ë“œ ê¸°ë°˜ ë ˆì´ì•„ì›ƒ

**ë¶„ì„ ê²°ê³¼ ì¹´ë“œ êµ¬ì¡°**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­ ì–¼êµ´í˜•: í•˜íŠ¸í˜•                    â”‚ â† ì•„ì´ì½˜ + ì œëª©
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ [ì‚¬ìš©ì ì´ë¯¸ì§€ + ì˜¤ë²„ë ˆì´]           â”‚ â† ì‹œê°ì  ê²°ê³¼
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹ ë¢°ë„ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 88%         â”‚ â† ì§„í–‰ë¥  í‘œì‹œ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ ì¸¡ì •ê°’                           â”‚ â† í™•ì¥ ê°€ëŠ¥ ì„¹ì…˜
â”‚ â–¼ í¼ì¹˜ê¸°                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ë§ì¶¤ ì¶”ì²œ ë³´ê¸°] [ê³µìœ í•˜ê¸°]          â”‚ â† ì•¡ì…˜ ë²„íŠ¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 ì ‘ê·¼ì„± (a11y) ì²´í¬ë¦¬ìŠ¤íŠ¸

```
í•„ìˆ˜ í•­ëª©:
â˜ ëª¨ë“  ë²„íŠ¼: 48x48dp ì´ìƒ í„°ì¹˜ íƒ€ê²Ÿ
â˜ ìƒ‰ìƒ ëŒ€ë¹„: 4.5:1 ì´ìƒ (ì¼ë°˜ í…ìŠ¤íŠ¸)
â˜ ë‹¤í¬ëª¨ë“œ: ë™ì¼ ëª…ì•”ë¹„ ì¤€ìˆ˜
â˜ ì´ë¯¸ì§€: alt ì†ì„± í•„ìˆ˜
â˜ Dialog: DialogDescription í•„ìˆ˜
â˜ í¼ ìš”ì†Œ: label ì—°ê²° í•„ìˆ˜
â˜ í¬ì»¤ìŠ¤ í‘œì‹œ: ëª…í™•í•œ outline
â˜ ìŠ¤í¬ë¦° ë¦¬ë”: aria-label ì ì ˆíˆ ì‚¬ìš©

ê¶Œì¥ í•­ëª©:
â˜ í° í…ìŠ¤íŠ¸ ì˜µì…˜
â˜ ì• ë‹ˆë©”ì´ì…˜ ê°ì†Œ ëª¨ë“œ ì§€ì›
â˜ í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì™„ì „ ì§€ì›
```

### 2.6 ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”©

**ë¶„ì„ ê²°ê³¼ ë¡œë”© ì‹œ**:

```tsx
// ë¶„ì„ ê²°ê³¼ ìŠ¤ì¼ˆë ˆí†¤
<div className="animate-pulse">
  <div className="h-48 bg-muted rounded-xl mb-4" /> {/* ì´ë¯¸ì§€ ì˜ì—­ */}
  <div className="h-6 bg-muted rounded w-1/2 mb-2" /> {/* ì œëª© */}
  <div className="h-4 bg-muted rounded w-3/4 mb-4" /> {/* ì„¤ëª… */}
  <div className="h-8 bg-muted rounded w-full" /> {/* ì§„í–‰ë¥  */}
</div>
```

**ì‹¬ë¨¸ íš¨ê³¼**:

```css
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    hsl(var(--muted)) 25%,
    hsl(var(--muted-foreground) / 0.1) 50%,
    hsl(var(--muted)) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}
```

---

## Part 3: ì„±ë¶„ DB êµ¬ì¶• ê°€ì´ë“œ

### 3.1 ë°ì´í„° ì†ŒìŠ¤

| ì†ŒìŠ¤              | URL                     | ë°ì´í„° ê·œëª¨  | ì ‘ê·¼ ë°©ë²•   |
| ----------------- | ----------------------- | ------------ | ----------- |
| EWG Skin Deep     | ewg.org/skindeep        | 16,000+ ì„±ë¶„ | ì›¹ ìŠ¤í¬ë˜í•‘ |
| ì‹ì•½ì²˜ ê³µê³µë°ì´í„° | data.go.kr              | í•œêµ­ ê³µì‹    | API         |
| ëŒ€í•œí™”ì¥í’ˆí˜‘íšŒ    | kcia.or.kr/cid          | ì„±ë¶„ì‚¬ì „     | ì›¹ ìŠ¤í¬ë˜í•‘ |
| INCI Database     | incibeauty.com          | êµ­ì œ í‘œì¤€    | ì°¸ì¡°ìš©      |
| PubMed            | pubmed.ncbi.nlm.nih.gov | ì—°êµ¬ ë…¼ë¬¸    | API         |

### 3.2 ë°ì´í„° ìˆ˜ì§‘ ìš°ì„ ìˆœìœ„

**Phase 1 (í•„ìˆ˜, 500ê°œ)**:

```
1. ì£¼ìš” í™œì„± ì„±ë¶„ (100ê°œ)
   - ë ˆí‹°ë†€, ë¹„íƒ€ë¯¼C, ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ ë“±

2. ë³´ìŠµ ì„±ë¶„ (80ê°œ)
   - íˆì•Œë£¨ë¡ ì‚°, ê¸€ë¦¬ì„¸ë¦°, ì„¸ë¼ë§ˆì´ë“œ ë“±

3. í´ë Œì € ì„±ë¶„ (50ê°œ)
   - SLS, SLES, ì½”ì½”ë² íƒ€ì¸ ë“±

4. ìì™¸ì„  ì°¨ë‹¨ ì„±ë¶„ (30ê°œ)
   - ì˜¥ì‹œë²¤ì¡´, ì§•í¬ì˜¥ì‚¬ì´ë“œ ë“±

5. ê¸°íƒ€ (240ê°œ)
   - ë°©ë¶€ì œ, í–¥ë£Œ, ìœ í™”ì œ ë“±
```

**Phase 2 (í™•ì¥, 1000ê°œ)**:

```
6. í•œêµ­ íŠ¹í™” ì„±ë¶„ (200ê°œ)
   - ë´‰ë…, ë‹¬íŒ½ì´ ì ì•¡, ì„¼í…”ë¼ ë“±

7. ì¶”ê°€ í™œì„± ì„±ë¶„ (200ê°œ)
   - AHA/BHA ì„¸ë¶€, í©íƒ€ì´ë“œ ë“±

8. í–¥ë£Œ ìƒì„¸ (100ê°œ)
   - ì•Œë ˆë¥´ê² í–¥ë£Œ 26ì¢… í¬í•¨
```

### 3.3 ì„±ë¶„ ìƒí˜¸ì‘ìš© ê·œì¹™

**ê¸ˆê¸° ì¡°í•© (15ê°œ â†’ 50ê°œ í™•ì¥)**:

```typescript
// í˜„ì¬ êµ¬í˜„: 15ê°œ
// ëª©í‘œ: 50ê°œ ì´ìƒ

const INGREDIENT_CONFLICTS = [
  // ë†’ì€ ìœ„í—˜ë„
  { a: 'RETINOL', b: 'VITAMIN_C', severity: 'high' },
  { a: 'RETINOL', b: 'AHA', severity: 'high' },
  { a: 'RETINOL', b: 'BHA', severity: 'high' },
  { a: 'RETINOL', b: 'BENZOYL_PEROXIDE', severity: 'high' },

  // ì¤‘ê°„ ìœ„í—˜ë„
  { a: 'NIACINAMIDE', b: 'VITAMIN_C', severity: 'medium' },
  { a: 'NIACINAMIDE', b: 'AHA', severity: 'medium' },

  // ë‚®ì€ ìœ„í—˜ë„ (ì£¼ì˜)
  { a: 'AHA', b: 'BHA', severity: 'low' },
  // ... ì¶”ê°€
];
```

**ì‹œë„ˆì§€ ì¡°í•©**:

```typescript
const INGREDIENT_SYNERGIES = [
  { a: 'HYALURONIC_ACID', b: 'CERAMIDE', effect: 'ìˆ˜ë¶„+ì¥ë²½ ê°•í™”' },
  { a: 'VITAMIN_C', b: 'VITAMIN_E', effect: 'í•­ì‚°í™” ì¦í­' },
  { a: 'NIACINAMIDE', b: 'HYALURONIC_ACID', effect: 'ë³´ìŠµ+í”¼ì§€ ì¡°ì ˆ' },
  { a: 'RETINOL', b: 'HYALURONIC_ACID', effect: 'ì•ˆí‹°ì—ì´ì§•+ìˆ˜ë¶„' },
  { a: 'CENTELLA', b: 'PANTHENOL', effect: 'ì§„ì •+ì¬ìƒ' },
];
```

### 3.4 ê³¼í•™ì  ê·¼ê±° ë°ì´í„°

**ì—°êµ¬ ìë£Œ êµ¬ì¡°**:

```typescript
interface IngredientStudy {
  ingredientId: string;
  studyTitle: string;
  studyType: 'RCT' | 'meta-analysis' | 'cohort' | 'in-vitro';
  year: number;
  journal: string;
  doi: string;
  keyFindings: string;
  sampleSize: number;
  evidenceLevel: 'high' | 'medium' | 'low';
}
```

**ì˜ˆì‹œ: ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ**:

```json
{
  "ingredientId": "niacinamide",
  "studyTitle": "Topical niacinamide reduces yellowing...",
  "studyType": "RCT",
  "year": 2023,
  "journal": "Journal of Cosmetic Dermatology",
  "doi": "10.1111/jocd.15606",
  "keyFindings": "4ì£¼ê°„ 2% ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ ì‚¬ìš© ì‹œ í”¼ë¶€ í™©ë³€ 21% ê°ì†Œ",
  "sampleSize": 50,
  "evidenceLevel": "high"
}
```

---

## Part 4: ì–¼êµ´í˜• ë¶„ì„ êµ¬í˜„ ê°€ì´ë“œ

### 4.1 Gemini Vision í”„ë¡¬í”„íŠ¸ ì„¤ê³„

```
ë‹¹ì‹ ì€ ì „ë¬¸ ì´ë¯¸ì§€ ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤. ì—…ë¡œë“œëœ ì–¼êµ´ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ì—¬
ì–¼êµ´í˜•ê³¼ ì´ëª©êµ¬ë¹„ë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”.

âš ï¸ ë¶„ì„ ì „ ì¡°ê±´ í™•ì¸:
1. ì–¼êµ´ì´ ì •ë©´ì„ í–¥í•˜ê³  ìˆëŠ”ì§€
2. ì¡°ëª…ì´ ê· ì¼í•œì§€
3. í—¤ì–´ê°€ ì–¼êµ´ ìœ¤ê³½ì„ ê°€ë¦¬ì§€ ì•ŠëŠ”ì§€

ğŸ“Š ì–¼êµ´í˜• ë¶„ë¥˜ ê¸°ì¤€ (6ê°€ì§€):

[Oval ê³„ë€í˜•]
- ê¸¸ì´/ë„ˆë¹„ ë¹„ìœ¨: ì•½ 1.5
- ì´ë§ˆ > í„±ì„ 
- í„±ì„  ë¶€ë“œëŸ¬ì›€

[Round ë‘¥ê·¼í˜•]
- ê¸¸ì´/ë„ˆë¹„ ë¹„ìœ¨: ì•½ 1.0
- ê´‘ëŒ€ê°€ ê°€ì¥ ë„“ìŒ
- í„±ì„  ë‘¥ê¸ˆ

[Square ê°ì§„í˜•]
- ì´ë§ˆ â‰ˆ ê´‘ëŒ€ â‰ˆ í„±ì„ 
- í„±ì„ ì´ ê°ì§€ê³  ê°•í•¨

[Oblong ê¸´í˜•]
- ê¸¸ì´/ë„ˆë¹„ ë¹„ìœ¨ > 1.5
- ëº¨ ë¼ì¸ì´ ì§ì„ ì 

[Heart í•˜íŠ¸í˜•]
- ì´ë§ˆ â‰¥ ê´‘ëŒ€ > í„±ì„ 
- Vë¼ì¸ í„±

[Diamond ë‹¤ì´ì•„ëª¬ë“œí˜•]
- ê´‘ëŒ€ > ì´ë§ˆ
- ê´‘ëŒ€ > í„±ì„ 
- ì´ë§ˆì™€ í„±ì´ ì¢ìŒ

ğŸ“Š ì´ëª©êµ¬ë¹„ ë¶„ì„ ê¸°ì¤€:

[ëˆˆ ëª¨ì–‘]
- almond: ì•„ëª¬ë“œí˜• (í™ì±„ê°€ ëˆˆêº¼í’€ì— ë‹¿ìŒ)
- round: ë‘¥ê·¼í˜• (í™ì±„ ì£¼ë³€ í°ì ë³´ì„)
- downturned: ì²˜ì§„ëˆˆ (ëˆˆê¼¬ë¦¬ê°€ ìˆ˜í‰ì„  ì•„ë˜)
- upturned: ì˜¬ë¼ê°„ëˆˆ (ëˆˆê¼¬ë¦¬ê°€ ìˆ˜í‰ì„  ìœ„)

[ìŒêº¼í’€ ìœ í˜•] (í•œêµ­ì¸ íŠ¹í™”)
- outline: ì•„ì›ƒë¼ì¸ (ìŒêº¼í’€ì´ ëˆˆ ì•ë¨¸ë¦¬ì™€ ë§Œë‚˜ì§€ ì•ŠìŒ)
- in-outline: ì¸ì•„ì›ƒë¼ì¸ (ìŒêº¼í’€ì´ ëˆˆ ì•ë¨¸ë¦¬ì™€ ë§Œë‚¨)
- inline: ì¸ë¼ì¸ (ìŒêº¼í’€ì´ ì•ˆìª½ìœ¼ë¡œ ë§ë ¤ë“¤ì–´ê°)
- inner: ì†ìŒêº¼í’€ (ëˆˆ ëœ° ë•Œ ìŒêº¼í’€ ë³´ì´ì§€ ì•ŠìŒ)
- monolid: ë¬´ìŒ (ìŒêº¼í’€ ì—†ìŒ)

ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´ì£¼ì„¸ìš”:

{
  "faceShape": "[oval|round|square|oblong|heart|diamond]",
  "faceShapeConfidence": [0-100],
  "measurements": {
    "foreheadWidth": [ì¶”ì •ì¹˜ cm],
    "cheekboneWidth": [ì¶”ì •ì¹˜ cm],
    "jawlineWidth": [ì¶”ì •ì¹˜ cm],
    "faceLength": [ì¶”ì •ì¹˜ cm]
  },
  "eyeAnalysis": {
    "shape": "[almond|round|downturned|upturned]",
    "spacing": "[close|standard|wide]",
    "eyelidType": "[outline|in-outline|inline|inner|monolid]"
  },
  "noseAnalysis": {
    "lengthRatio": [0-1],
    "width": "[narrow|standard|wide]"
  },
  "lipAnalysis": {
    "ratio": "[ìœ—ì…ìˆ :ì•„ë«ì…ìˆ  ë¹„ìœ¨]",
    "cupidBow": "[defined|subtle|flat]",
    "corner": "[upturned|straight|downturned]"
  },
  "eyebrowAnalysis": {
    "shape": "[arched|straight|angular|rounded]"
  },
  "stylePersonality": "[classic|dramatic|natural|elegant|romantic|sexy|creative]",
  "imageType": "[active|beauty|cute|luxury]",
  "analysisReliability": "[high|medium|low]"
}

âš ï¸ ì£¼ì˜ì‚¬í•­:
- ì´ë¯¸ì§€ê°€ íë¦¬ë©´ analysisReliabilityë¥¼ "low"ë¡œ ì„¤ì •
- ë©”ì´í¬ì—…ì´ ì§„í•˜ë©´ ì´ëª©êµ¬ë¹„ íŒì •ì— ì£¼ì˜
- í™•ì‹ ì´ ì—†ëŠ” í•­ëª©ì€ ë³´ìˆ˜ì ìœ¼ë¡œ íŒì •
```

### 4.2 ì´¬ì˜ ê°€ì´ë“œë¼ì¸ UI

**ì´¬ì˜ í™”ë©´ ì˜¤ë²„ë ˆì´**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚                   â”‚          â”‚
â”‚     â”‚   [ì–¼êµ´ ê°€ì´ë“œ]    â”‚          â”‚
â”‚     â”‚                   â”‚          â”‚
â”‚     â”‚   O   O          â”‚ â† ëˆˆ ìœ„ì¹˜ â”‚
â”‚     â”‚     â–³            â”‚ â† ì½” ìœ„ì¹˜ â”‚
â”‚     â”‚    ___           â”‚ â† ì… ìœ„ì¹˜ â”‚
â”‚     â”‚                   â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                     â”‚
â”‚ ğŸ’¡ ì •ë©´ì„ ë°”ë¼ë³´ê³  ì´¬ì˜í•´ì£¼ì„¸ìš”      â”‚
â”‚                                     â”‚
â”‚ âœ“ ì´ë§ˆê°€ ë³´ì´ë„ë¡                    â”‚
â”‚ âœ“ ê·€ê°€ ë³´ì´ë„ë¡                      â”‚
â”‚ âœ“ ê· ì¼í•œ ì¡°ëª…                        â”‚
â”‚                                     â”‚
â”‚        [ğŸ“¸ ì´¬ì˜í•˜ê¸°]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ì¸¡ì •ê°’ ì‹œê°í™”

**ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´ ì„¤ê³„**:

```typescript
interface FaceMeasurementOverlay {
  // ê°€ë¡œ ì¸¡ì •ì„ 
  foreheadLine: { y: number; width: number };
  cheekboneLine: { y: number; width: number };
  jawlineLine: { y: number; width: number };

  // ì„¸ë¡œ ì¸¡ì •ì„ 
  faceLengthLine: { x: number; height: number };

  // ë¼ë²¨ ìœ„ì¹˜
  labels: {
    forehead: { x: number; y: number; value: string };
    cheekbone: { x: number; y: number; value: string };
    jawline: { x: number; y: number; value: string };
    length: { x: number; y: number; value: string };
  };
}
```

---

## Part 5: ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´ êµ¬í˜„ ê°€ì´ë“œ

### 5.1 í˜„ì¬ êµ¬í˜„ ìƒíƒœ (ìœ ì§€)

| ì»´í¬ë„ŒíŠ¸            | ê¸°ìˆ                  | ìš©ë„             |
| ------------------- | -------------------- | ---------------- |
| FaceLandmarkHeatMap | Canvas + face-api.js | íˆíŠ¸ë§µ ë Œë”ë§    |
| PhotoMetricOverlay  | SVG                  | ì§€í‘œ ë°°ì§€ í‘œì‹œ   |
| PhotoOverlayMap     | SVG                  | ì¡´ë³„ ì˜¤ë²„ë ˆì´    |
| SkinHeatmapCanvas   | Canvas               | ë©€í‹° ëª¨ë“œ íˆíŠ¸ë§µ |

### 5.2 F-1 ì „ìš© ì˜¤ë²„ë ˆì´ ì¶”ê°€

**ì¸¡ì •ì„  ì˜¤ë²„ë ˆì´ ì»´í¬ë„ŒíŠ¸**:

```tsx
// components/analysis/face/FaceMeasurementOverlay.tsx

interface Props {
  imageUrl: string;
  measurements: FaceMeasurements;
  showLabels?: boolean;
  className?: string;
}

export function FaceMeasurementOverlay({
  imageUrl,
  measurements,
  showLabels = true,
  className,
}: Props) {
  return (
    <div className={cn('relative', className)}>
      <Image src={imageUrl} alt="ì–¼êµ´ ë¶„ì„ ì´ë¯¸ì§€" fill className="object-cover rounded-xl" />

      {/* SVG ì˜¤ë²„ë ˆì´ */}
      <svg viewBox="0 0 200 280" className="absolute inset-0 w-full h-full">
        {/* ì´ë§ˆ ë„ˆë¹„ */}
        <line
          x1={100 - measurements.foreheadWidth * 5}
          y1={60}
          x2={100 + measurements.foreheadWidth * 5}
          y2={60}
          stroke="hsl(var(--primary))"
          strokeWidth="2"
        />

        {/* ê´‘ëŒ€ ë„ˆë¹„ */}
        <line
          x1={100 - measurements.cheekboneWidth * 5}
          y1={120}
          x2={100 + measurements.cheekboneWidth * 5}
          y2={120}
          stroke="hsl(var(--primary))"
          strokeWidth="2"
        />

        {/* í„±ì„  ë„ˆë¹„ */}
        <line
          x1={100 - measurements.jawlineWidth * 5}
          y1={200}
          x2={100 + measurements.jawlineWidth * 5}
          y2={200}
          stroke="hsl(var(--primary))"
          strokeWidth="2"
        />

        {/* ë¼ë²¨ */}
        {showLabels && (
          <>
            <text x="10" y="65" className="text-xs fill-primary">
              ì´ë§ˆ: {measurements.foreheadWidth}cm
            </text>
            {/* ... */}
          </>
        )}
      </svg>
    </div>
  );
}
```

### 5.3 ì¤Œ/íŒ¬ ê¸°ëŠ¥ ì¶”ê°€ (ì„ íƒ)

```bash
npm install react-zoom-pan-pinch
```

```tsx
import { TransformWrapper, TransformComponent } from 'react-zoom-pan-pinch';

function ZoomableOverlay({ imageUrl, measurements }) {
  return (
    <TransformWrapper initialScale={1} minScale={0.5} maxScale={3}>
      <TransformComponent>
        <FaceMeasurementOverlay imageUrl={imageUrl} measurements={measurements} />
      </TransformComponent>
    </TransformWrapper>
  );
}
```

---

## Part 6: Supabase/ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ì • ê°€ì´ë“œ

### 6.1 ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ëª©ë¡

**ê¸°ì¡´ ë§ˆì´ê·¸ë ˆì´ì…˜** (ì ìš© í•„ìš”):

```
supabase/migrations/
â”œâ”€â”€ 20260113_pc_multi_angle_columns.sql  â† PC-1 ë‹¤ê°ë„
â””â”€â”€ (ê¸°ì¡´ ë§ˆì´ê·¸ë ˆì´ì…˜ë“¤)
```

**ì¶”ê°€ ë§ˆì´ê·¸ë ˆì´ì…˜** (ìƒì„± í•„ìš”):

```
supabase/migrations/
â”œâ”€â”€ 20260114_face_analyses.sql           â† F-1 ì–¼êµ´í˜• ë¶„ì„
â”œâ”€â”€ 20260115_ingredients.sql             â† ì„±ë¶„ DB
â”œâ”€â”€ 20260116_ingredient_interactions.sql â† ì„±ë¶„ ìƒí˜¸ì‘ìš©
â””â”€â”€ 20260117_ingredient_studies.sql      â† ì„±ë¶„ ì—°êµ¬ ìë£Œ
```

### 6.2 ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© ìˆœì„œ

```bash
# 1. ë¡œì»¬ Supabase ì‹œì‘
npx supabase start

# 2. ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
npx supabase migration list

# 3. ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
npx supabase db push

# 4. ìŠ¤í‚¤ë§ˆ í™•ì¸
npx supabase db diff
```

### 6.3 F-1 ë§ˆì´ê·¸ë ˆì´ì…˜ SQL

```sql
-- íŒŒì¼: supabase/migrations/20260114_face_analyses.sql

-- Migration: F-1 ì–¼êµ´í˜• ë¶„ì„ í…Œì´ë¸”
-- Purpose: ì–¼êµ´í˜•, ì´ëª©êµ¬ë¹„, ìŠ¤íƒ€ì¼ í¼ìŠ¤ë„ë¦¬í‹° ë¶„ì„ ê²°ê³¼ ì €ì¥
-- Date: 2026-01-14

CREATE TABLE face_analyses (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  clerk_user_id TEXT NOT NULL,

  -- ì´ë¯¸ì§€ (PC-1 ì¬ì‚¬ìš© ê°€ëŠ¥)
  face_image_url TEXT NOT NULL,
  reused_from_pc_id UUID, -- PC-1 ì´ë¯¸ì§€ ì¬ì‚¬ìš© ì‹œ ì°¸ì¡°

  -- ì–¼êµ´í˜• ë¶„ì„ ê²°ê³¼
  face_shape TEXT CHECK (face_shape IN
    ('oval', 'round', 'square', 'oblong', 'heart', 'diamond')),
  face_shape_confidence INT CHECK (face_shape_confidence BETWEEN 0 AND 100),

  -- ì¸¡ì •ê°’
  forehead_width FLOAT,
  cheekbone_width FLOAT,
  jawline_width FLOAT,
  face_length FLOAT,
  length_width_ratio FLOAT,
  forehead_jawline_ratio FLOAT,

  -- ëˆˆ ë¶„ì„
  eye_shape TEXT CHECK (eye_shape IN
    ('almond', 'round', 'downturned', 'upturned')),
  eye_spacing TEXT CHECK (eye_spacing IN
    ('close', 'standard', 'wide')),
  eyelid_type TEXT CHECK (eyelid_type IN
    ('outline', 'in-outline', 'inline', 'inner', 'monolid')),

  -- ì½” ë¶„ì„
  nose_length_ratio FLOAT,
  nose_width TEXT CHECK (nose_width IN ('narrow', 'standard', 'wide')),

  -- ì…ìˆ  ë¶„ì„
  lip_ratio TEXT,
  cupid_bow TEXT CHECK (cupid_bow IN ('defined', 'subtle', 'flat')),
  lip_corner TEXT CHECK (lip_corner IN ('upturned', 'straight', 'downturned')),

  -- ëˆˆì¹ ë¶„ì„
  eyebrow_shape TEXT CHECK (eyebrow_shape IN
    ('arched', 'straight', 'angular', 'rounded')),

  -- ì–¼êµ´ ë¹„ìœ¨ (ì‚¼ë“±ë¶„)
  upper_face_ratio FLOAT,
  middle_face_ratio FLOAT,
  lower_face_ratio FLOAT,

  -- ìŠ¤íƒ€ì¼ í¼ìŠ¤ë„ë¦¬í‹°
  style_personality TEXT CHECK (style_personality IN
    ('classic', 'dramatic', 'natural', 'elegant',
     'romantic', 'sexy', 'creative')),
  image_type TEXT CHECK (image_type IN
    ('active', 'beauty', 'cute', 'luxury')),

  -- ì¶”ì²œ ê²°ê³¼ (JSONB)
  hair_recommendations JSONB,
  makeup_recommendations JSONB,
  glasses_recommendations JSONB,
  earring_recommendations JSONB,
  necklace_recommendations JSONB,
  tpo_style_guide JSONB,

  -- ë¶„ì„ ë©”íƒ€ë°ì´í„°
  analysis_reliability TEXT DEFAULT 'medium'
    CHECK (analysis_reliability IN ('high', 'medium', 'low')),
  ai_model_version TEXT DEFAULT 'gemini-3-flash',

  created_at TIMESTAMPTZ DEFAULT NOW(),

  -- ì™¸ë˜ í‚¤
  CONSTRAINT face_analyses_clerk_user_id_fkey
    FOREIGN KEY (clerk_user_id) REFERENCES users(clerk_user_id),
  CONSTRAINT face_analyses_reused_from_pc_fkey
    FOREIGN KEY (reused_from_pc_id) REFERENCES personal_color_assessments(id)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_face_analyses_clerk_user_id ON face_analyses(clerk_user_id);
CREATE INDEX idx_face_analyses_created_at ON face_analyses(created_at DESC);
CREATE INDEX idx_face_analyses_face_shape ON face_analyses(face_shape);

-- RLS ì •ì±…
ALTER TABLE face_analyses ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own face analyses"
  ON face_analyses FOR SELECT
  USING (clerk_user_id = auth.jwt() ->> 'sub');

CREATE POLICY "Users can insert own face analyses"
  ON face_analyses FOR INSERT
  WITH CHECK (clerk_user_id = auth.jwt() ->> 'sub');

-- ì½”ë©˜íŠ¸
COMMENT ON TABLE face_analyses IS 'F-1 ì–¼êµ´í˜• ë¶„ì„ ê²°ê³¼';
COMMENT ON COLUMN face_analyses.reused_from_pc_id IS 'PC-1 ì´ë¯¸ì§€ ì¬ì‚¬ìš© ì‹œ ì°¸ì¡° ID';
COMMENT ON COLUMN face_analyses.style_personality IS '7ê°€ì§€ ìŠ¤íƒ€ì¼ í¼ìŠ¤ë„ë¦¬í‹°';
COMMENT ON COLUMN face_analyses.eyelid_type IS 'í•œêµ­ì¸ íŠ¹í™” ìŒêº¼í’€ ìœ í˜• (5ì¢…)';
```

### 6.4 ì„±ë¶„ DB ë§ˆì´ê·¸ë ˆì´ì…˜ SQL

```sql
-- íŒŒì¼: supabase/migrations/20260115_ingredients.sql

-- Migration: ì„±ë¶„ ë°ì´í„°ë² ì´ìŠ¤
-- Purpose: 500+ í™”ì¥í’ˆ ì„±ë¶„ ì •ë³´ ì €ì¥
-- Date: 2026-01-15

CREATE TABLE ingredients (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),

  -- ê¸°ë³¸ ì •ë³´
  name_ko TEXT NOT NULL,
  name_en TEXT NOT NULL,
  inci_name TEXT,
  aliases TEXT[],

  -- ë¶„ë¥˜
  category TEXT CHECK (category IN (
    'moisturizer', 'cleanser', 'active', 'antioxidant',
    'sunscreen', 'preservative', 'fragrance', 'emulsifier',
    'thickener', 'ph_adjuster', 'colorant', 'other'
  )),

  -- íš¨ëŠ¥ ë° ê¸°ì „
  benefits TEXT[],
  mechanism TEXT,

  -- í”¼ë¶€ íƒ€ì…ë³„ ì í•©ë„
  skin_type_compatibility JSONB,

  -- ì•ˆì „ì„±
  ewg_score INT CHECK (ewg_score BETWEEN 1 AND 10),
  ewg_data_availability TEXT CHECK (ewg_data_availability IN
    ('none', 'limited', 'fair', 'good', 'robust')),
  safety_grade TEXT CHECK (safety_grade IN ('A', 'B', 'C', 'D', 'F')),

  -- ì£¼ì˜ì‚¬í•­
  precautions TEXT[],
  contraindications TEXT[],

  -- ê¶Œì¥ ë†ë„
  recommended_concentration TEXT,

  -- ê³¼í•™ì  ê·¼ê±°
  scientific_references TEXT[],
  evidence_level TEXT CHECK (evidence_level IN ('high', 'medium', 'low')),

  -- ë©”íƒ€ë°ì´í„°
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_ingredients_name_ko ON ingredients(name_ko);
CREATE INDEX idx_ingredients_name_en ON ingredients(name_en);
CREATE INDEX idx_ingredients_category ON ingredients(category);
CREATE INDEX idx_ingredients_ewg_score ON ingredients(ewg_score);

-- Full-text ê²€ìƒ‰ ì¸ë±ìŠ¤
CREATE INDEX idx_ingredients_search ON ingredients
  USING GIN (to_tsvector('simple', name_ko || ' ' || name_en || ' ' || COALESCE(inci_name, '')));

-- ì½”ë©˜íŠ¸
COMMENT ON TABLE ingredients IS 'í™”ì¥í’ˆ ì„±ë¶„ ë°ì´í„°ë² ì´ìŠ¤ (EWG ìˆ˜ì¤€)';
COMMENT ON COLUMN ingredients.inci_name IS 'International Nomenclature of Cosmetic Ingredients';
COMMENT ON COLUMN ingredients.ewg_score IS 'EWG ìœ„í—˜ë„ ë“±ê¸‰ (1-10, 1ì´ ê°€ì¥ ì•ˆì „)';
```

### 6.5 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

```bash
# .env.local í•„ìˆ˜ í•­ëª©

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx
SUPABASE_SERVICE_ROLE_KEY=eyJxxx

# Clerk
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_xxx
CLERK_SECRET_KEY=sk_xxx

# Google AI
GOOGLE_GENERATIVE_AI_API_KEY=AIzaxxx
GEMINI_MODEL=gemini-3-flash-preview

# ê°œë°œìš©
FORCE_MOCK_AI=false
```

---

## Part 7: êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 7.1 Phase 1: ë¶„ì„ í—ˆë¸Œ ê³ ë„í™”

```
â˜ ë¶„ì„ ì§„í–‰ë¥  ì»´í¬ë„ŒíŠ¸ ìƒì„±
  â”œâ”€ AnalysisProgressCircle.tsx
  â””â”€ AnalysisProgressCard.tsx

â˜ í¬ë¡œìŠ¤ ì¸ì‚¬ì´íŠ¸ ì„¹ì…˜ ì¶”ê°€
  â”œâ”€ CrossAnalysisInsight.tsx
  â””â”€ lib/analysis/cross-insight.ts

â˜ ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ ë°°ë„ˆ
  â””â”€ AnalysisOrderGuide.tsx

â˜ í—ˆë¸Œ í˜ì´ì§€ ë¦¬ë””ìì¸
  â””â”€ app/(main)/analysis/page.tsx ìˆ˜ì •
```

### 7.2 Phase 2: F-1 ì–¼êµ´í˜• ë¶„ì„

```
â˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
  â””â”€ supabase/migrations/20260114_face_analyses.sql

â˜ API êµ¬í˜„
  â””â”€ app/api/analyze/face/route.ts

â˜ Gemini í”„ë¡¬í”„íŠ¸
  â””â”€ lib/gemini/prompts/face-analysis.ts

â˜ íƒ€ì… ì •ì˜
  â””â”€ types/face-analysis.ts

â˜ Mock ë°ì´í„°
  â””â”€ lib/mock/face-analysis.ts

â˜ í˜ì´ì§€ êµ¬í˜„
  â”œâ”€ app/(main)/analysis/face/page.tsx
  â”œâ”€ app/(main)/analysis/face/result/[id]/page.tsx
  â””â”€ app/(main)/analysis/face/history/page.tsx

â˜ ì»´í¬ë„ŒíŠ¸
  â”œâ”€ components/analysis/face/FacePhotoUpload.tsx
  â”œâ”€ components/analysis/face/FaceAnalysisResult.tsx
  â”œâ”€ components/analysis/face/FaceMeasurementOverlay.tsx
  â””â”€ components/analysis/face/StylePersonalityCard.tsx

â˜ í…ŒìŠ¤íŠ¸
  â””â”€ tests/pages/analysis/face.test.tsx
```

### 7.3 Phase 3: ì„±ë¶„ DB

```
â˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
  â”œâ”€ 20260115_ingredients.sql
  â”œâ”€ 20260116_ingredient_interactions.sql
  â””â”€ 20260117_ingredient_studies.sql

â˜ ì´ˆê¸° ë°ì´í„° ì‹œë”©
  â””â”€ supabase/seed/ingredients.sql (500+ ì„±ë¶„)

â˜ API êµ¬í˜„
  â”œâ”€ app/api/ingredients/route.ts
  â”œâ”€ app/api/ingredients/[id]/route.ts
  â””â”€ app/api/ingredients/[id]/interactions/route.ts

â˜ ì»´í¬ë„ŒíŠ¸ ê°œì„ 
  â”œâ”€ components/products/ingredients/IngredientDetail.tsx
  â”œâ”€ components/products/ingredients/IngredientStudies.tsx
  â””â”€ components/products/ingredients/SkinTypeCompatibility.tsx
```

### 7.4 Phase 4-6: ì‹œê°í™”, ê³¼í•™ì  ê·¼ê±°, í†µí•©

```
â˜ ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´ í™•ì¥
  â””â”€ FaceMeasurementOverlay, ZoomableOverlay

â˜ Progressive Disclosure ì»´í¬ë„ŒíŠ¸
  â””â”€ components/common/ProgressiveDisclosure.tsx

â˜ ê³¼í•™ì  ê·¼ê±° í‘œì‹œ ì»´í¬ë„ŒíŠ¸
  â””â”€ components/common/ScientificEvidence.tsx

â˜ í†µí•© ëŒ€ì‹œë³´ë“œ
  â”œâ”€ app/(main)/analysis/integrated/page.tsx
  â””â”€ components/analysis/IntegratedConsultant.tsx

â˜ PDF ë¦¬í¬íŠ¸ ìƒì„±
  â””â”€ lib/reports/pdf-generator.ts
```

---

## Part 8: P3 ì›ì ë¶„í•´ (Atomic Decomposition)

> ê° ì›ìëŠ” 2ì‹œê°„ ì´ë‚´, ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### 8.1 ì˜ì¡´ì„± ê·¸ë˜í”„

```mermaid
graph TD
    subgraph Phase1["Phase 1: ê³µí†µ ì»´í¬ë„ŒíŠ¸"]
        ATOM1[ATOM-1: ProgressiveDisclosure]
        ATOM2[ATOM-2: SkeletonLoading]
        ATOM3[ATOM-3: AnalysisError]
    end

    subgraph Phase2["Phase 2: ì´ë¯¸ì§€ ì¬ì‚¬ìš©"]
        ATOM4[ATOM-4: íƒ€ì… ì •ì˜]
        ATOM5[ATOM-5: API í™•ì¥]
        ATOM6[ATOM-6: ImageReusePrompt UI]
    end

    subgraph Phase3["Phase 3: ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ"]
        ATOM7[ATOM-7: AnalysisOrderGuide]
    end

    subgraph Phase4["Phase 4: ì‹œê°í™” í™•ì¥"]
        ATOM8[ATOM-8: ZoomableOverlay]
    end

    ATOM1 --> ATOM7
    ATOM2 --> ATOM6
    ATOM3 --> ATOM5
    ATOM4 --> ATOM5
    ATOM5 --> ATOM6
```

### 8.2 ì›ì ìƒì„¸

---

#### ATOM-1: ProgressiveDisclosure ì»´í¬ë„ŒíŠ¸

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 1.5ì‹œê°„
- **ì˜ì¡´ì„±**: ì—†ìŒ
- **ë³‘ë ¬ ê°€ëŠ¥**: Yes

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| level1 | ReactNode | Y | ê¸°ë³¸ í‘œì‹œ ì½˜í…ì¸  |
| level2 | ReactNode | Y | í¼ì³¤ì„ ë•Œ ì½˜í…ì¸  |
| level3 | ReactNode | N | ë” ìì„¸íˆ ì½˜í…ì¸  |
| defaultLevel | 1 \| 2 \| 3 | N | ì´ˆê¸° í‘œì‹œ ë ˆë²¨ |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| component | JSX.Element | 3ë‹¨ê³„ ì •ë³´ ê³µê°œ ì»´í¬ë„ŒíŠ¸ |

##### ì„±ê³µ ê¸°ì¤€

- [ ] 3ë‹¨ê³„ í¼ì¹˜ê¸°/ì ‘ê¸° ë™ì‘
- [ ] ì• ë‹ˆë©”ì´ì…˜ 200-300ms
- [ ] í‚¤ë³´ë“œ ì ‘ê·¼ì„± (Enter/Space)
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `components/common/ProgressiveDisclosure.tsx` | ì‹ ê·œ | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ |
| `components/common/ProgressiveDisclosure.test.tsx` | ì‹ ê·œ | í…ŒìŠ¤íŠ¸ |

---

#### ATOM-2: SkeletonLoading ì»´í¬ë„ŒíŠ¸

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 1ì‹œê°„
- **ì˜ì¡´ì„±**: ì—†ìŒ
- **ë³‘ë ¬ ê°€ëŠ¥**: Yes

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| variant | 'card' \| 'image' \| 'text' \| 'chart' | Y | ìŠ¤ì¼ˆë ˆí†¤ ìœ í˜• |
| lines | number | N | í…ìŠ¤íŠ¸ ë¼ì¸ ìˆ˜ |
| className | string | N | ì¶”ê°€ ìŠ¤íƒ€ì¼ |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| component | JSX.Element | ì‹¬ë¨¸ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤ì¼ˆë ˆí†¤ |

##### ì„±ê³µ ê¸°ì¤€

- [ ] ì‹¬ë¨¸ ì• ë‹ˆë©”ì´ì…˜ ì ìš©
- [ ] 4ê°€ì§€ variant ì§€ì›
- [ ] ë‹¤í¬ëª¨ë“œ ëŒ€ì‘
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `components/common/SkeletonLoading.tsx` | ì‹ ê·œ | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ |
| `app/globals.css` | ìˆ˜ì • | shimmer í‚¤í”„ë ˆì„ ì¶”ê°€ |

---

#### ATOM-3: AnalysisError ì»´í¬ë„ŒíŠ¸

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 1.5ì‹œê°„
- **ì˜ì¡´ì„±**: ì—†ìŒ
- **ë³‘ë ¬ ê°€ëŠ¥**: Yes

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| errorType | 'no_face' \| 'low_quality' \| 'timeout' \| 'server_error' | Y | ì—ëŸ¬ ìœ í˜• |
| onRetry | () => void | Y | ì¬ì‹œë„ ì½œë°± |
| onUseMock | () => void | N | Mock ì‚¬ìš© ì½œë°± |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| component | JSX.Element | ì—ëŸ¬ ìœ í˜•ë³„ UX ì»´í¬ë„ŒíŠ¸ |

##### ì„±ê³µ ê¸°ì¤€

- [ ] 4ê°€ì§€ ì—ëŸ¬ íƒ€ì…ë³„ ë©”ì‹œì§€
- [ ] ì¬ì‹œë„ ë²„íŠ¼ ë™ì‘
- [ ] Mock ì˜µì…˜ (ê°œë°œ ëª¨ë“œë§Œ)
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `components/analysis/common/AnalysisError.tsx` | ì‹ ê·œ | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ |
| `components/analysis/common/AnalysisError.test.tsx` | ì‹ ê·œ | í…ŒìŠ¤íŠ¸ |

---

#### ATOM-4: ì´ë¯¸ì§€ ì¬ì‚¬ìš© íƒ€ì… ì •ì˜

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 0.5ì‹œê°„
- **ì˜ì¡´ì„±**: ì—†ìŒ
- **ë³‘ë ¬ ê°€ëŠ¥**: Yes

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| - | - | - | íƒ€ì… ì •ì˜ ì‘ì—… |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| FaceAnalysisRequest | interface | API ìš”ì²­ íƒ€ì… |
| ReuseOptions | interface | ì¬ì‚¬ìš© ì˜µì…˜ íƒ€ì… |

##### ì„±ê³µ ê¸°ì¤€

- [ ] FaceAnalysisRequest ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [ ] ReuseOptions ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [ ] typecheck í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `types/face-analysis.ts` | ìˆ˜ì • | íƒ€ì… ì¶”ê°€ |

---

#### ATOM-5: ì´ë¯¸ì§€ ì¬ì‚¬ìš© API í™•ì¥

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 2ì‹œê°„
- **ì˜ì¡´ì„±**: ATOM-4, ATOM-3
- **ë³‘ë ¬ ê°€ëŠ¥**: No

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| imageUrl | string | N | ìƒˆ ì´ë¯¸ì§€ URL |
| reuseFromPcId | string | N | PC-1 ì¬ì‚¬ìš© ID |
| reuseOptions | ReuseOptions | N | ì¬ì‚¬ìš© ì˜µì…˜ |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| response | FaceAnalysisResponse | ë¶„ì„ ê²°ê³¼ |
| reusedImage | boolean | ì¬ì‚¬ìš© ì—¬ë¶€ í”Œë˜ê·¸ |

##### ì„±ê³µ ê¸°ì¤€

- [ ] PC-1 ì´ë¯¸ì§€ ì¡°íšŒ ë¡œì§
- [ ] ì¬ì‚¬ìš©/ìƒˆ ì—…ë¡œë“œ ë¶„ê¸°
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ (ì´ë¯¸ì§€ ì—†ìŒ)
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `app/api/analyze/face/route.ts` | ìˆ˜ì • | ì¬ì‚¬ìš© ë¡œì§ ì¶”ê°€ |
| `lib/supabase/face-analysis.ts` | ìˆ˜ì • | DB í•¨ìˆ˜ í™•ì¥ |

---

#### ATOM-6: ImageReusePrompt UI

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 1.5ì‹œê°„
- **ì˜ì¡´ì„±**: ATOM-5, ATOM-2
- **ë³‘ë ¬ ê°€ëŠ¥**: No

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| pcImageUrl | string | Y | PC-1 ì´ë¯¸ì§€ URL |
| onReuse | () => void | Y | ì¬ì‚¬ìš© ì„ íƒ ì½œë°± |
| onNewCapture | () => void | Y | ìƒˆ ì´¬ì˜ ì„ íƒ ì½œë°± |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| component | JSX.Element | ì´ë¯¸ì§€ ì¬ì‚¬ìš© ì„ íƒ Dialog |

##### ì„±ê³µ ê¸°ì¤€

- [ ] PC-1 ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
- [ ] "ì˜ˆ"/"ì•„ë‹ˆì˜¤" ë²„íŠ¼ ë™ì‘
- [ ] ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© ìƒíƒœ
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `components/analysis/face/ImageReusePrompt.tsx` | ì‹ ê·œ | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ |
| `components/analysis/face/ImageReusePrompt.test.tsx` | ì‹ ê·œ | í…ŒìŠ¤íŠ¸ |

---

#### ATOM-7: AnalysisOrderGuide ì»´í¬ë„ŒíŠ¸

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 1ì‹œê°„
- **ì˜ì¡´ì„±**: ATOM-1
- **ë³‘ë ¬ ê°€ëŠ¥**: No

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| completedAnalyses | string[] | Y | ì™„ë£Œëœ ë¶„ì„ ëª©ë¡ |
| onDismiss | () => void | N | ë‹«ê¸° ì½œë°± |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| component | JSX.Element | ë¶„ì„ ìˆœì„œ ê°€ì´ë“œ ë°°ë„ˆ |

##### ì„±ê³µ ê¸°ì¤€

- [ ] ê¶Œì¥ ìˆœì„œ í‘œì‹œ (PC-1 â†’ F-1 â†’ S-1 â†’ C-1)
- [ ] ì™„ë£Œëœ ë¶„ì„ ì²´í¬ í‘œì‹œ
- [ ] ë‹¤ìŒ ê¶Œì¥ ë¶„ì„ í•˜ì´ë¼ì´íŠ¸
- [ ] ë‹«ê¸°/ë‹¤ì‹œ ë³´ì§€ ì•Šê¸° ì˜µì…˜
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `components/analysis/common/AnalysisOrderGuide.tsx` | ì‹ ê·œ | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ |
| `app/(main)/analysis/page.tsx` | ìˆ˜ì • | ê°€ì´ë“œ ë°°ë„ˆ í†µí•© |

---

#### ATOM-8: ZoomableOverlay ì»´í¬ë„ŒíŠ¸

##### ë©”íƒ€ë°ì´í„°
- **ì†Œìš”ì‹œê°„**: 1.5ì‹œê°„
- **ì˜ì¡´ì„±**: ì—†ìŒ
- **ë³‘ë ¬ ê°€ëŠ¥**: Yes

##### ì…ë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| children | ReactNode | Y | ì¤Œ/íŒ¬ ëŒ€ìƒ ì½˜í…ì¸  |
| initialScale | number | N | ì´ˆê¸° ë°°ìœ¨ (ê¸°ë³¸ 1) |
| minScale | number | N | ìµœì†Œ ë°°ìœ¨ (ê¸°ë³¸ 0.5) |
| maxScale | number | N | ìµœëŒ€ ë°°ìœ¨ (ê¸°ë³¸ 3) |

##### ì¶œë ¥ ìŠ¤í™

| í•­ëª© | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| component | JSX.Element | ì¤Œ/íŒ¬ ê°€ëŠ¥í•œ ë˜í¼ |

##### ì„±ê³µ ê¸°ì¤€

- [ ] react-zoom-pan-pinch í†µí•©
- [ ] í•€ì¹˜ ì¤Œ ì§€ì› (ëª¨ë°”ì¼)
- [ ] ë”ë¸”íƒ­ ì¤Œ ì§€ì›
- [ ] ë¦¬ì…‹ ë²„íŠ¼
- [ ] typecheck í†µê³¼
- [ ] lint í†µê³¼

##### íŒŒì¼ ë°°ì¹˜

| íŒŒì¼ ê²½ë¡œ | ë³€ê²½ ìœ í˜• | ì„¤ëª… |
|-----------|----------|------|
| `components/analysis/visual/ZoomableOverlay.tsx` | ì‹ ê·œ | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ |
| `package.json` | ìˆ˜ì • | react-zoom-pan-pinch ì˜ì¡´ì„± |

---

### 8.3 ì‘ì—… ì‹œê°„ ìš”ì•½

| ì›ì | ì‘ì—… | ì†Œìš”ì‹œê°„ | ë³‘ë ¬ ê°€ëŠ¥ |
|------|------|----------|----------|
| ATOM-1 | ProgressiveDisclosure | 1.5ì‹œê°„ | Yes |
| ATOM-2 | SkeletonLoading | 1ì‹œê°„ | Yes |
| ATOM-3 | AnalysisError | 1.5ì‹œê°„ | Yes |
| ATOM-4 | ì´ë¯¸ì§€ ì¬ì‚¬ìš© íƒ€ì… | 0.5ì‹œê°„ | Yes |
| ATOM-5 | ì´ë¯¸ì§€ ì¬ì‚¬ìš© API | 2ì‹œê°„ | No |
| ATOM-6 | ImageReusePrompt UI | 1.5ì‹œê°„ | No |
| ATOM-7 | AnalysisOrderGuide | 1ì‹œê°„ | No |
| ATOM-8 | ZoomableOverlay | 1.5ì‹œê°„ | Yes |
| **ì´í•©** | | **10.5ì‹œê°„** | **ë³‘ë ¬ ì‹œ ~7ì‹œê°„** |

### 8.4 P3 ì ìˆ˜ ê²€ì¦

| í•­ëª© | ë°°ì  | ë‹¬ì„± |
|------|------|------|
| ì†Œìš”ì‹œê°„ ëª…ì‹œ | 20ì  | âœ… 20ì  (ëª¨ë“  ì›ì 2ì‹œê°„ ì´ë‚´) |
| ì…ì¶œë ¥ ìŠ¤í™ | 20ì  | âœ… 20ì  (ëª¨ë“  ì›ìì— ëª…ì‹œ) |
| ì„±ê³µ ê¸°ì¤€ | 20ì  | âœ… 20ì  (í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ê¸°ì¤€) |
| ì˜ì¡´ì„± ê·¸ë˜í”„ | 20ì  | âœ… 20ì  (Mermaid ì‹œê°í™”) |
| íŒŒì¼ ë°°ì¹˜ | 10ì  | âœ… 10ì  (ëª¨ë“  ì›ìì— ëª…ì‹œ) |
| í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ | 10ì  | âœ… 10ì  (ì„±ê³µ ê¸°ì¤€ì— í¬í•¨) |
| **ì´ì ** | **100ì ** | **100ì ** |

---

## ë¶€ë¡: ì°¸ê³  ìë£Œ ë§í¬

### UI/UX ë””ìì¸

- [Material Design 3 FAB](https://m3.material.io/components/floating-action-button/overview)
- [Apple Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)
- [Bottom Sheet UX - NN/g](https://www.nngroup.com/articles/bottom-sheet/)
- [Progressive Disclosure - IxDF](https://www.interaction-design.org/literature/topics/progressive-disclosure)

### ì„±ë¶„ DB

- [EWG Skin Deep](https://www.ewg.org/skindeep/)
- [ì‹í’ˆì˜ì•½í’ˆì•ˆì „ì²˜ ê³µê³µë°ì´í„°](https://www.data.go.kr/data/15111774/openapi.do)
- [ëŒ€í•œí™”ì¥í’ˆí˜‘íšŒ ì„±ë¶„ì‚¬ì „](https://kcia.or.kr/cid/main/)
- [PubMed í”¼ë¶€ê³¼í•™ ì—°êµ¬](https://pubmed.ncbi.nlm.nih.gov/)

### ì–¼êµ´ ë¶„ì„

- [MediaPipe Face Mesh](https://github.com/google-ai-edge/mediapipe/blob/master/docs/solutions/face_mesh.md)
- [face-api.js](https://github.com/justadudewhohacks/face-api)
- [Gemini Vision API](https://ai.google.dev/gemini-api/docs/image-understanding)

### ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´

- [Canvas API MDN](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)
- [react-zoom-pan-pinch](https://www.npmjs.com/package/react-zoom-pan-pinch)
- [Konva.js](https://konvajs.org/)

---

**Document Version**: 1.0
**Created**: 2026-01-13
**Author**: Claude Code (Opus 4.5)
