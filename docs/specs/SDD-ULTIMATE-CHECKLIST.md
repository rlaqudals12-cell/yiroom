# SDD: Ultimate Yiroom Checklist

> **Version**: 1.0
> **Created**: 2026-01-22
> **Status**: Active
> **Author**: Claude Code

---

## 1. 개요

이룸 프로젝트의 "궁극의 형태" 달성을 위한 품질 체크리스트.
일반적인 웹/앱 체크리스트가 아닌, AI 웰니스 플랫폼 특화 항목 포함.

### 1.1 체크리스트 철학

```
일반 체크리스트 적합도: 55%
이룸 특화 체크리스트 필요성: 높음

이유:
- AI 분석 품질이 핵심 가치
- 민감한 신체/건강 데이터 취급
- 크로스 도메인 시너지가 차별화 포인트
- 사용자 신뢰가 비즈니스 핵심
```

---

## 2. Tier 0: 핵심 차별화 (Core Differentiation)

> AI 분석 품질 = 이룸의 존재 이유

### 2.1 분석 일관성 (Analysis Consistency)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0-1 | 재현성 | 동일 이미지 → 동일 결과 | 5회 반복 테스트, 일치율 95%+ | P0 |
| T0-2 | Golden Dataset | 검증된 정답 세트 | 전문가 라벨링 100+ 케이스 | P0 |
| T0-3 | 버전별 비교 | 모델 업데이트 시 품질 추적 | A/B 테스트 인프라 | P1 |

### 2.2 AI 신뢰도 관리 (Confidence Threshold)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0-4 | 신뢰도 임계값 | confidence < 70% 시 경고 | 임계값 로직 테스트 | P0 |
| T0-5 | 재촬영 유도 | 저품질 이미지 거부 | UX 플로우 테스트 | P0 |
| T0-6 | 불확실성 표시 | "분석 불가" 케이스 처리 | Edge case 테스트 | P1 |

### 2.3 XAI (Explainable AI)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0-7 | 추천 이유 | "왜 이 제품?" 설명 | 설명 품질 리뷰 | P0 |
| T0-8 | 점수 분해 | 총점 구성 요소 표시 | UI 검증 | P1 |
| T0-9 | 시너지 설명 | 도메인 간 연결 설명 | 템플릿 커버리지 | P1 |

### 2.4 크로스 도메인 시너지

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0-10 | 7×7 매트릭스 | 7개 도메인 간 시너지 정의 | 매트릭스 완성도 | P0 |
| T0-11 | 시너지 감지 | 활성 도메인 자동 감지 | 로직 테스트 | P0 |
| T0-12 | 충돌 해결 | 도메인 간 충돌 시 우선순위 | 충돌 케이스 테스트 | P1 |

### 2.5 변화 추적 (Change Tracking)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0-13 | Before/After | 시간 경과 비교 | 이미지 정렬 알고리즘 | P1 |
| T0-14 | 통계적 유의성 | 변화율 오차 마진 표시 | 통계 로직 검증 | P2 |
| T0-15 | 추세 대시보드 | 주간/월간 변화 그래프 | UI 검증 | P2 |

---

## 3. Tier 0+: AI 품질 심화 (AI Quality Deep)

> MLOps 및 모델 품질 관리

### 3.1 Model Drift Detection

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0+-1 | Data Drift 감지 | 입력 데이터 분포 변화 | 주간 분포 모니터링 | P1 |
| T0+-2 | Concept Drift 감지 | 모델 성능 저하 | 신뢰도 추세 대시보드 | P1 |
| T0+-3 | 드리프트 알림 | 임계값 초과 시 알림 | 알림 테스트 | P2 |
| T0+-4 | 자동 재학습 트리거 | 드리프트 감지 시 재학습 | 파이프라인 테스트 | P3 |

### 3.2 Fairness & Bias Detection

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0+-5 | Fitzpatrick 균등 | Type 1-6 정확도 균등 | 타입별 정확도 ±5% | P0 |
| T0+-6 | 체형 편향 없음 | BMI 구간별 공정 추천 | 구간별 만족도 비교 | P1 |
| T0+-7 | 연령대 적절성 | 연령대별 추천 적합 | 연령별 리뷰 | P1 |
| T0+-8 | 성별 공정성 | 성별 기반 불공정 방지 | 성별별 정확도 비교 | P1 |

### 3.3 Uncertainty Quantification

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T0+-9 | 불확실성 점수 | 확신 못하면 "모른다" | 불확실성 계산 로직 | P0 |
| T0+-10 | 재촬영 권유 UX | 불확실성 > 30% 시 유도 | UX 플로우 테스트 | P0 |
| T0+-11 | 분석 불가 처리 | Graceful degradation | Edge case 테스트 | P1 |

---

## 4. Tier 0.5: 뷰티 AI 도메인 특화

> 이룸만의 도메인 특수성

### 4.1 Temporal Analysis (시간 경과 분석)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T05-1 | 이미지 정렬 | Before/After 자동 정렬 | 정렬 정확도 테스트 | P1 |
| T05-2 | 동일 조건 가이드 | 조명/각도 가이드 | UX 가이드 검증 | P1 |
| T05-3 | 변화율 계산 | 통계적 유의성 | 통계 로직 테스트 | P2 |
| T05-4 | 오차 마진 표시 | ±X% 변화 표시 | UI 검증 | P2 |

### 4.2 Cultural Sensitivity (문화적 민감성)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T05-5 | K-뷰티 분류 체계 | 한국 피부과학회 기준 | 분류 체계 검증 | P1 |
| T05-6 | 로컬라이제이션 준비 | 일본/동남아 확장 | i18n 구조 검토 | P2 |
| T05-7 | 민감 표현 필터 | 문화적 민감 표현 차단 | 필터 테스트 | P1 |
| T05-8 | 지역별 제품 DB | 지역별 제품 분리 | DB 구조 검토 | P2 |

### 4.3 Contraindication Detection (금기 사항 감지)

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T05-9 | 금기 성분 DB | 임신/알레르기 성분 | DB 완성도 검토 | P1 |
| T05-10 | 건강 상태 입력 | 사용자 조건 입력 UI | UI 검증 | P1 |
| T05-11 | 조건부 필터링 | 금기 성분 제외 | 필터 로직 테스트 | P1 |
| T05-12 | 전문의 연계 | 에스컬레이션 경로 | 경로 문서화 | P2 |

---

## 5. Tier 1: 신뢰 & 안전 (Trust & Safety)

> 사용자가 믿고 쓸 수 있어야 함

### 5.1 AI 투명성

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T1-1 | AI 분석 라벨 | "AI가 분석했습니다" | UI 검증 | P0 |
| T1-2 | Mock 사용 알림 | Fallback 시 사용자 알림 | 알림 테스트 | P0 |
| T1-3 | 신뢰도 표시 | 분석 신뢰도 시각화 | UI 검증 | P1 |

### 5.2 의료 면책

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T1-4 | 면책 조항 | 모든 분석에 면책 표시 | UI 검증 | P0 |
| T1-5 | 의료 용어 금지 | "진단/치료/처방" 미사용 | 텍스트 검색 | P0 |
| T1-6 | 전문의 권유 | 심각 케이스 연계 | UX 플로우 테스트 | P1 |

### 5.3 Hallucination 방지

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T1-7 | 의료 조언 감지 | 위험 패턴 필터링 | 필터 테스트 | P0 |
| T1-8 | 출처 기반 응답 | 근거 없는 주장 방지 | 응답 검토 | P1 |
| T1-9 | 확실성 표현 제한 | "반드시/100%" 금지 | 텍스트 검색 | P1 |

### 5.4 데이터 프라이버시

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T1-10 | 이미지 자동 만료 | 30일 미접속 시 삭제 | Cron job 테스트 | P0 |
| T1-11 | GDPR 데이터 export | 사용자 데이터 다운로드 | API 테스트 | P1 |
| T1-12 | 삭제권 행사 | 완전 삭제 기능 | 삭제 검증 | P1 |

---

## 6. Tier 1.5: 규제 & 컴플라이언스

> 법적 리스크 관리

### 6.1 Medical Device Boundary

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T15-1 | 의료기기 경계 | 진단 아님 명시 | 법률 검토 | P0 |
| T15-2 | 용어 사용 금지 | 진단/치료/처방 금지 | 텍스트 검색 | P0 |
| T15-3 | 법률 검토 프로세스 | 출시 전 법률 확인 | 프로세스 문서화 | P1 |

### 6.2 Korea PIPA Compliance

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T15-4 | 민감정보 동의 | 건강/신체 별도 동의 | UI 검증 | P0 |
| T15-5 | 처리방침 법적 검토 | 개인정보 처리방침 | 법률 검토 | P0 |
| T15-6 | 자동 파기 | 보유 기간 경과 시 | Cron job 테스트 | P1 |
| T15-7 | 정보주체 권리 | 열람/삭제 프로세스 | 프로세스 테스트 | P1 |

---

## 7. Tier 2: 운영 품질 (Operational Quality)

> 안정적인 서비스 운영

### 7.1 Health & Monitoring

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T2-1 | Health Endpoint | /api/health 상태 체크 | API 테스트 | P0 |
| T2-2 | 의존성 체크 | DB, AI API 상태 | 체크 로직 테스트 | P1 |
| T2-3 | 알림 연동 | 장애 시 Slack/Email | 알림 테스트 | P1 |

### 7.2 API 품질

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T2-4 | API 버전 관리 | /api/v1, /api/v2 | 라우트 검증 | P1 |
| T2-5 | Deprecation 헤더 | 폐기 예정 알림 | 헤더 검증 | P2 |
| T2-6 | OpenAPI 문서 | Swagger/OpenAPI | 문서 생성 | P2 |

### 7.3 데이터 무결성

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T2-7 | Soft Delete 확장 | 중요 테이블 soft delete | 스키마 검토 | P1 |
| T2-8 | ACID 트랜잭션 | 복합 작업 원자성 | 트랜잭션 테스트 | P1 |
| T2-9 | 외래키 제약 | 참조 무결성 | 스키마 검토 | P1 |

---

## 8. Tier 2.5: MLOps & 관측성

> AI 시스템 운영 최적화

### 8.1 ML Observability

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T25-1 | 분석당 비용 | Gemini API 비용 추적 | 비용 대시보드 | P1 |
| T25-2 | 지연시간 P95 | 분석 응답시간 추적 | 메트릭 대시보드 | P1 |
| T25-3 | 일별 볼륨 | 분석 요청량 추적 | 볼륨 대시보드 | P1 |
| T25-4 | Fallback 비율 | Mock 사용률 추적 | 목표 < 5% | P0 |

### 8.2 Feedback Loop

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T25-5 | 만족도 수집 | "도움이 되었나요?" | UI 검증 | P1 |
| T25-6 | 부정 피드백 태깅 | 자동 분류 | 태깅 로직 테스트 | P2 |
| T25-7 | 피드백 → 학습 | 재학습 파이프라인 | 파이프라인 테스트 | P3 |
| T25-8 | 반영 주기 | 주간/월간 개선 | 프로세스 문서화 | P2 |

---

## 9. Tier 3: 테스트 완성 (Test Completion)

> 품질 보증

### 9.1 테스트 유형

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T3-1 | 단위 테스트 | lib/ 커버리지 90%+ | 커버리지 리포트 | P0 |
| T3-2 | 통합 테스트 | API 라우트 테스트 | 테스트 실행 | P0 |
| T3-3 | E2E 테스트 | Playwright 주요 플로우 | E2E 실행 | P1 |
| T3-4 | Visual Regression | UI 스크린샷 비교 | Chromatic/Percy | P2 |

### 9.2 AI 테스트

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T3-5 | Golden Dataset | 정답 세트 테스트 | 정확도 측정 | P0 |
| T3-6 | Edge Case | 경계 조건 테스트 | 케이스 커버리지 | P1 |
| T3-7 | 부하 테스트 | 동시 분석 요청 | k6/Artillery | P2 |

---

## 10. Tier 3.5: 경쟁 차별화 지표

> 비즈니스 경쟁력

### 10.1 Scientific Validation

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T35-1 | 전문가 일치율 | AI vs 전문의 비교 | 목표 > 85% | P2 |
| T35-2 | 논문 기반 알고리즘 | 참고 논문 문서화 | 문서 검토 | P2 |
| T35-3 | 베타 테스트 결과 | 검증 그룹 피드백 | 리포트 검토 | P2 |

### 10.2 Competitive Moat Metrics

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T35-4 | 크로스 도메인 유니크 | 타사 대비 인사이트 | 경쟁 분석 | P2 |
| T35-5 | 분석 깊이 | 항목 수, 상세도 | 비교 분석 | P2 |
| T35-6 | 개인화 수준 | 1:1 맞춤 비율 | 개인화율 측정 | P2 |

---

## 11. Tier 4: 성장 기반 (Growth Foundation)

> 지속적 개선 인프라

### 11.1 Analytics

| ID | 항목 | 설명 | 검증 방법 | 우선순위 |
|----|------|------|----------|---------|
| T4-1 | 추천 정확도 대시보드 | 추천 → 구매 전환 | 대시보드 검증 | P2 |
| T4-2 | 사용자 행동 분석 | 이탈 지점, 체류 시간 | Analytics 연동 | P2 |
| T4-3 | A/B 테스트 인프라 | 실험 플랫폼 | 플랫폼 검증 | P2 |
| T4-4 | 코호트 분석 | 사용자 그룹별 추적 | 분석 리포트 | P3 |

---

## 12. 우선순위 요약

| 우선순위 | 항목 수 | 설명 |
|----------|---------|------|
| **P0** | 25개 | 즉시 필수 (법적 리스크, 핵심 품질) |
| **P1** | 35개 | 단기 필수 (사용자 신뢰, 운영 안정) |
| **P2** | 25개 | 중기 권장 (경쟁력, 최적화) |
| **P3** | 5개 | 장기 계획 (자동화, 고도화) |

### 12.1 P0 체크리스트 (즉시 확인)

```markdown
## 핵심 필수 항목

### AI 품질
- [ ] T0-1: 분석 재현성 95%+
- [ ] T0-4: 신뢰도 임계값 70%
- [ ] T0-5: 재촬영 유도 UX
- [ ] T0-7: 추천 이유 설명
- [ ] T0-10: 시너지 매트릭스 정의
- [ ] T0-11: 시너지 자동 감지
- [ ] T0+-5: Fitzpatrick 균등 성능
- [ ] T0+-9: 불확실성 점수 계산
- [ ] T0+-10: 불확실성 > 30% 재촬영

### 신뢰 & 안전
- [ ] T1-1: AI 분석 라벨
- [ ] T1-2: Mock 사용 알림
- [ ] T1-4: 면책 조항 표시
- [ ] T1-5: 의료 용어 미사용
- [ ] T1-7: 의료 조언 필터
- [ ] T1-10: 이미지 자동 만료

### 규제 준수
- [ ] T15-1: 의료기기 경계 명시
- [ ] T15-2: 진단/치료/처방 금지
- [ ] T15-4: 민감정보 별도 동의
- [ ] T15-5: 처리방침 법적 검토

### 운영
- [ ] T2-1: Health Endpoint
- [ ] T25-4: Fallback 비율 < 5%

### 테스트
- [ ] T3-1: 단위 테스트 90%+
- [ ] T3-2: API 통합 테스트
- [ ] T3-5: Golden Dataset 테스트
```

---

## 13. 관련 문서

### 13.1 P7 워크플로우 추적

| 단계 | 문서 | 상태 |
|------|------|------|
| 원리 | [docs/principles/](../principles/) | ✅ 20+ 문서 |
| ADR | [docs/adr/](../adr/) | ✅ 35+ 문서 |
| 스펙 | [docs/specs/](../specs/) | ✅ 40+ 문서 |

### 13.2 핵심 참조

- [00-first-principles.md](../../.claude/rules/00-first-principles.md) - P0~P8 원칙
- [security-checklist.md](../../.claude/rules/security-checklist.md) - OWASP Top 10
- [ai-integration.md](../../.claude/rules/ai-integration.md) - AI 통합 규칙
- [testing-patterns.md](../../.claude/rules/testing-patterns.md) - 테스트 패턴

---

**Version**: 1.0 | **Created**: 2026-01-22
**적용 범위**: 이룸 프로젝트 전체
