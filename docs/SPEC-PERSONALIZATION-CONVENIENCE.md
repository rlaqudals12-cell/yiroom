# SPEC: ê°œì¸í™”/í¸ì˜ ê¸°ëŠ¥ - ìœ„ì ¯ & Apple Health

> iOS/Android ìœ„ì ¯, Apple Health ì—°ë™

**Version**: 1.0
**Date**: 2026-01-07
**Status**: Draft
**Author**: Claude Code

---

## 1. í™ˆ í™”ë©´ ìœ„ì ¯

### ëª©ì 

ì•± ì—´ì§€ ì•Šê³ ë„ í•µì‹¬ ì •ë³´ í™•ì¸ + ë¹ ë¥¸ ê¸°ë¡

### ìœ„ì ¯ ì¢…ë¥˜

#### 1.1 ì˜¤ëŠ˜ì˜ ìš”ì•½ ìœ„ì ¯ (Medium)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŸ ì´ë£¸ ì˜¤ëŠ˜ì˜ ì›°ë‹ˆìŠ¤                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‹ï¸ ìš´ë™ 2/3ì„¸íŠ¸  ğŸ’§ ë¬¼ 1.2/2L       â”‚
â”‚ ğŸ½ï¸ ì¹¼ë¡œë¦¬ 1,200/1,800kcal          â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 67%       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2 ë¹ ë¥¸ ê¸°ë¡ ìœ„ì ¯ (Small)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ’§       â”‚
â”‚   +250ml    â”‚
â”‚   ë¬¼ ê¸°ë¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.3 ìŠ¤íŠ¸ë¦­ ìœ„ì ¯ (Small)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸ”¥       â”‚
â”‚    15ì¼     â”‚
â”‚   ì—°ì† ê¸°ë¡  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.4 ë‹¤ìŒ ìš´ë™ ìœ„ì ¯ (Medium)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‹ï¸ ì˜¤ëŠ˜ì˜ ìš´ë™                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í•˜ì²´ ìš´ë™ Day                        â”‚
â”‚ ìŠ¤ì¿¼íŠ¸ Â· ëŸ°ì§€ Â· ë ˆê·¸í”„ë ˆìŠ¤           â”‚
â”‚ [ì‹œì‘í•˜ê¸°]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ìŠ¤íƒ

```yaml
iOS:
  - WidgetKit (SwiftUI)
  - App Groups (ë°ì´í„° ê³µìœ )
  - Timeline Provider (ì—…ë°ì´íŠ¸ ì£¼ê¸°)

Android:
  - Glance (Jetpack Compose)
  - WorkManager (ë°±ê·¸ë¼ìš´ë“œ ì—…ë°ì´íŠ¸)

React Native:
  - react-native-widget-extension (iOS)
  - react-native-android-widget (Android)
```

### êµ¬í˜„ ë°©ì‹

```yaml
ì˜µì…˜ 1: ë„¤ì´í‹°ë¸Œ ìœ„ì ¯ (ê¶Œì¥)
  - iOS: WidgetKit Extension
  - Android: Glance Widget
  - ì¥ì : ìµœì  ì„±ëŠ¥, ë„¤ì´í‹°ë¸Œ UX
  - ë‹¨ì : í”Œë«í¼ë³„ ê°œë°œ í•„ìš”

ì˜µì…˜ 2: Expo ìœ„ì ¯
  - expo-widgets (ì‹¤í—˜ì )
  - ì¥ì : í†µí•© ê°œë°œ
  - ë‹¨ì : ì œí•œëœ ê¸°ëŠ¥, ë¶ˆì•ˆì •
```

### ë°ì´í„° ë™ê¸°í™”

```typescript
// App Groups (iOS) / SharedPreferences (Android)
interface WidgetData {
  lastUpdated: string;
  todayStats: {
    workoutSets: { current: number; target: number };
    waterMl: { current: number; target: number };
    calories: { current: number; target: number };
  };
  streak: number;
  nextWorkout?: {
    title: string;
    exercises: string[];
  };
}
```

### ì˜ˆìƒ ì‘ì—…ëŸ‰: 30h (í”Œë«í¼ë³„ 15h)

---

## 2. Apple Health ì—°ë™

### ëª©ì 

ê±¸ìŒìˆ˜, ì‹¬ë°•ìˆ˜, ìˆ˜ë©´ ë°ì´í„° ìë™ ë™ê¸°í™”

### ì—°ë™ ë°ì´í„°

```yaml
ì½ê¸° (Read):
  - ê±¸ìŒìˆ˜ (stepCount)
  - í™œë™ ì¹¼ë¡œë¦¬ (activeEnergyBurned)
  - ì‹¬ë°•ìˆ˜ (heartRate)
  - ìˆ˜ë©´ ë¶„ì„ (sleepAnalysis)
  - ì²´ì¤‘ (bodyMass)
  - í‚¤ (height)

ì“°ê¸° (Write):
  - ìš´ë™ ê¸°ë¡ (workout)
  - ì˜ì–‘ ì„­ì·¨ (dietaryNutrients)
  - ìˆ˜ë¶„ ì„­ì·¨ (dietaryWater)
```

### ë™ê¸°í™” í”Œë¡œìš°

```
[ì•± ì‹œì‘ / ë°±ê·¸ë¼ìš´ë“œ ìƒˆë¡œê³ ì¹¨]
    â†“
[HealthKit ê¶Œí•œ í™•ì¸]
    â†“
[ë§ˆì§€ë§‰ ë™ê¸°í™” ì´í›„ ë°ì´í„° ì¡°íšŒ]
    â†“
[ì´ë£¸ DB ì—…ë°ì´íŠ¸]
    â†“
[ì´ë£¸ ê¸°ë¡ â†’ HealthKit ì“°ê¸°]
```

### ê¸°ìˆ  ìŠ¤íƒ

```yaml
React Native:
  - react-native-health (iOS HealthKit)
  - react-native-google-fit (Android, ì„ íƒ)

ê¶Œí•œ:
  - NSHealthShareUsageDescription
  - NSHealthUpdateUsageDescription
```

### êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ë‚´ìš© |
|------|------|
| `lib/health/apple-health.ts` | HealthKit ë˜í¼ |
| `lib/health/sync-manager.ts` | ë™ê¸°í™” ë¡œì§ |
| `hooks/useHealthData.ts` | React Native í›… |
| `app/settings/health-sync.tsx` | ì„¤ì • í˜ì´ì§€ |
| `app/api/health/sync/route.ts` | ì„œë²„ ë™ê¸°í™” API |

### ê¶Œí•œ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â¤ï¸ Apple Health ì—°ë™                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ ë‹¤ìŒ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì–´ìš”:       â”‚
â”‚                                     â”‚
â”‚ âœ… ê±¸ìŒìˆ˜                            â”‚
â”‚ âœ… í™œë™ ì¹¼ë¡œë¦¬                       â”‚
â”‚ âœ… ì‹¬ë°•ìˆ˜                            â”‚
â”‚ âœ… ìˆ˜ë©´                              â”‚
â”‚                                     â”‚
â”‚ ë‹¤ìŒ ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆì–´ìš”:       â”‚
â”‚                                     â”‚
â”‚ âœ… ìš´ë™ ê¸°ë¡                         â”‚
â”‚ âœ… ì˜ì–‘/ìˆ˜ë¶„ ì„­ì·¨                    â”‚
â”‚                                     â”‚
â”‚ [ì—°ë™í•˜ê¸°]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì˜ˆìƒ ì‘ì—…ëŸ‰: 20h

---

## 3. Google Fit ì—°ë™ (Android)

### ëª©ì 

Android ì‚¬ìš©ìë¥¼ ìœ„í•œ ê±´ê°• ë°ì´í„° ë™ê¸°í™”

### ì—°ë™ ë°ì´í„°

```yaml
ì½ê¸°:
  - ê±¸ìŒìˆ˜ (Steps)
  - ì¹¼ë¡œë¦¬ (Calories)
  - ì‹¬ë°•ìˆ˜ (Heart Rate)
  - ìˆ˜ë©´ (Sleep)
  - ì²´ì¤‘ (Weight)

ì“°ê¸°:
  - ìš´ë™ ì„¸ì…˜ (Workout)
  - ì˜ì–‘ ë°ì´í„° (Nutrition)
```

### ì˜ˆìƒ ì‘ì—…ëŸ‰: 15h

---

## ìš°ì„ ìˆœìœ„ ê¶Œì¥

| ê¸°ëŠ¥ | í”Œë«í¼ | ë³µì¡ë„ | ê¶Œì¥ ìˆœì„œ |
|------|--------|--------|-----------|
| Apple Health | iOS | ì¤‘ê°„ | 1ìˆœìœ„ |
| í™ˆ ìœ„ì ¯ (iOS) | iOS | ë†’ìŒ | 2ìˆœìœ„ |
| Google Fit | Android | ì¤‘ê°„ | 3ìˆœìœ„ |
| í™ˆ ìœ„ì ¯ (Android) | Android | ë†’ìŒ | 4ìˆœìœ„ |

---

## ì‹œì§€í‘¸ìŠ¤ íŒì •

| ê¸°ëŠ¥ | íŒŒì¼ ìˆ˜ | ë³µì¡ë„ | íŒì • |
|------|---------|--------|------|
| ìœ„ì ¯ (iOS) | 5ê°œ+ | 50ì  | âœ… ì‹œì§€í‘¸ìŠ¤ í•„ìš” |
| ìœ„ì ¯ (Android) | 5ê°œ+ | 50ì  | âœ… ì‹œì§€í‘¸ìŠ¤ í•„ìš” |
| Apple Health | 5ê°œ | 40ì  | âš ï¸ ë‹¨ë… ê°€ëŠ¥ |
| Google Fit | 4ê°œ | 35ì  | âš ï¸ ë‹¨ë… ê°€ëŠ¥ |

---

**Status**: Draft (ìŠ¹ì¸ ëŒ€ê¸°)
