# 📘 Sprint Backlog 작성 방법론
## W-1 모듈 적용 사례 기반

**작성일**: 2025-11-27  
**적용 모듈**: W-1 (운동/피트니스)  
**다음 적용 대상**: N-1 (식단), 기타 모듈

---

## 1. 전체 프로세스 흐름

```
기능 스펙 완성 (feature-spec-template.md)
    ↓
멘토링 자료 분석
    ↓
Sprint Backlog 초안 (v1.0)
    ↓
자체 재검토 → 문제점 발견
    ↓
문제점 반영 (v1.1)
    ↓
하이브리드 방식 결정
    ↓
전체 Task 구체화 (v1.3)
    ↓
Claude Code로 개발 시작
```

---

## 2. 단계별 상세

### 단계 1: 기능 스펙 완성 (선행 필수)

| 항목 | 내용 |
|------|------|
| **입력** | 기존 프로젝트 문서, 경쟁사 분석 |
| **작업** | feature-spec-template.md 작성 |
| **산출물** | 기능 스펙 문서 (What을 정의) |

> ⚠️ 기능 스펙이 완성되지 않으면 Sprint Backlog 작성 불가

---

### 단계 2: Sprint Backlog 초안 작성

#### 멘토링 자료 적용 요소

| 요소 | 적용 방식 |
|------|----------|
| Sprint 문장화 | 각 Sprint 목표를 한 문장으로 정의 |
| MVP 우선순위 | Must / Should / Later 분류 |
| Task 분해 | 기능 → 파일 단위로 분해 |
| 시간 추정 | Task당 0.5d ~ 1.5d (3일 이상은 분할) |

#### 초안 작성 순서

```
1. Sprint 문장화 (Sprint 1~4)
2. MVP 우선순위 분류 (Must/Should/Later)
3. 각 Sprint를 Task로 분해
4. Task 시간 추정
5. 주차별 배치
```

#### Sprint 문장화 예시

```markdown
### Sprint 1 (Week 1-2)
> "이룸 사용자가 7단계 입력을 통해 운동 타입을 확인하고 
> 추천 운동 리스트를 볼 수 있도록 **입력-결과 기본 플로우**를 완성한다."
```

#### MVP 우선순위 정의

| 우선순위 | 정의 | 예시 |
|---------|------|------|
| **Must** | 없으면 서비스 성립 안 됨 | 입력 화면, 결과 화면, DB 스키마 |
| **Should** | 있으면 좋지만 없어도 됨 | AI 인사이트, Streak, 통계 |
| **Later** | 2차 버전에서 | 쇼핑 연동, PR 알림 |

---

### 단계 3: 자체 재검토

#### 검토 항목 체크리스트 (10가지)

| # | 검토 항목 | 확인 질문 | 심각도 |
|---|----------|----------|--------|
| 1 | 입력 단계 완전성 | 기능 스펙의 입력 단계가 모두 Task화 되었는가? | 🔴 심각 |
| 2 | DB 스키마 상세화 | 테이블별로 개별 Task가 있는가? | 🟡 중간 |
| 3 | 공통 컴포넌트 | 재사용 컴포넌트가 선행 Task로 분리되었는가? | 🟡 중간 |
| 4 | Validation | 입력 검증 Task가 있는가? | 🟡 중간 |
| 5 | 데이터 구축 | 필요한 데이터(DB, JSON)가 Task화 되었는가? | 🔴 심각 |
| 6 | 외부 연동 | API, 외부 서비스 연동 Task가 있는가? | 🟡 중간 |
| 7 | 시간 버퍼 | 주당 1-2d 버퍼가 있는가? | 🟡 중간 |
| 8 | 의존성 | Task 간 의존 관계가 명시되었는가? | 🟢 낮음 |
| 9 | 테스트 | Sprint별 테스트 Task가 있는가? | 🟢 낮음 |
| 10 | Hook Model | 재방문 유도 기능이 Task화 되었는가? | 🟡 중간 |

#### W-1에서 발견된 문제점 예시

| 문제 | 수정 전 | 수정 후 |
|------|--------|--------|
| 입력 단계 누락 | 5단계로 축소 | 7단계로 복원 |
| DB 스키마 | 1개 Task | 4개 테이블별 Task |
| 운동 DB | 누락 | 100개 운동 JSON 추가 |
| 버퍼 | 없음 | 주당 1-2d 버퍼 추가 |

---

### 단계 4: 하이브리드 방식 적용

#### 핵심 원칙

```
기능 단위 Task 분해 (Claude Code 친화적)
          +
완료 조건 명시 (User Story 장점 흡수)
```

#### 왜 하이브리드인가?

| 방식 | 장점 | 단점 |
|------|------|------|
| User Story 기반 | 비즈니스 가치 중심, 테스트 연결 | 1인 개발자 오버헤드 |
| 기능 단위 | Claude Code 친화적, 파일 단위 작업 | 완료 기준 불명확 |
| **하이브리드** | 둘의 장점 결합 | - |

#### Task 상세 구조 템플릿

```markdown
#### Task X.X: [Task 이름]

| 항목 | 내용 |
|------|------|
| **파일** | 생성/수정할 파일 경로 |
| **시간** | 예상 소요 시간 (0.5d ~ 1.5d) |
| **우선순위** | Must / Should / Later |
| **의존성** | 선행 Task 번호 |
| **사용자 가치** | 이 기능이 사용자에게 주는 가치 |

**수락 기준:**
```
Given: [주어진 상황]
When: [동작/이벤트]
Then: [예상 결과 - 측정 가능하게]
```
```

#### 수락 기준 작성 예시

**좋은 예시:**
```
Given: SelectionCard mode="multiple", maxSelect=3
When: 이미 3개 선택된 상태에서 4번째 카드 탭하면
Then: 선택 안 됨 + 토스트 "최대 3개까지 선택 가능합니다"
```

**나쁜 예시:**
```
완료 조건: 복수 선택 동작함
(→ 측정 불가능, 모호함)
```

---

### 단계 5: 전체 Task 구체화 (옵션 C)

#### 옵션 비교

| 옵션 | 범위 | 시간 | 적합 상황 |
|------|------|------|----------|
| A | 현재 수준 유지 | 0 | 급한 경우 |
| B | Sprint 1 Must만 | 1-2시간 | 빠른 시작 원할 때 |
| **C** | **전체 Sprint** | **3-4시간** | **Claude Code 사용, 1인 개발** |

#### 옵션 C 선택 이유

1. Claude Code는 구체적 완료 조건 = 더 정확한 코드 생성
2. 3-4시간 투자는 8주 프로젝트 대비 적은 비용
3. 개발 중 "뭐 해야 하지?" 고민 제거

#### 구체화 작업 순서

```
1. Sprint 1 (31개) 구체화 → 1.5시간
2. Sprint 2 (23개) 구체화 → 1시간  
3. Sprint 3 (21개) 구체화 → 0.75시간
4. Sprint 4 (16개) 구체화 → 0.5시간
─────────────────────────────────
총: 약 3.5-4시간
```

---

## 3. 산출물 구조

```
[모듈명]-sprint-backlog.md
├── 0. Claude Code 사전 검토 항목
│   ├── 검토 1: 기존 모듈 연동 (C-1, PC-1 등)
│   ├── 검토 2: 코드베이스 구조
│   └── 검토 3: 크로스 모듈 연동
├── 1. Sprint 문장화
├── 2. MVP 우선순위 분류
│   ├── Must
│   ├── Should
│   └── Later
├── 3. Sprint 1 (Week 1-2)
│   ├── Week 1 Task (상세)
│   └── Week 2 Task (상세)
├── 4. Sprint 2 (Week 3-4)
├── 5. Sprint 3 (Week 5-6)
├── 6. Sprint 4 (Week 7-8)
├── 7. 전체 일정 요약
├── 8. 산출물 체크리스트
└── 9. 변경 이력
```

---

## 4. 핵심 결정 사항

| 항목 | 결정 | 이유 |
|------|------|------|
| Task 분해 단위 | 파일 단위 | Claude Code와 궁합 |
| 시간 단위 | 일(d) | Story Point보다 직관적 (1인 개발) |
| 완료 조건 형식 | Given-When-Then | 테스트 가능한 기준 |
| Development 명세 | 불필요 | 코드가 곧 문서 (TypeScript 타입) |
| 구체화 범위 | 전체 Sprint | 개발 중 방향성 유지 |

---

## 5. 버전 관리 가이드

| 버전 | 작업 내용 | 언제 |
|------|----------|------|
| v1.0 | 초안 (멘토링 자료 기반) | 최초 작성 |
| v1.1 | 재검토 반영 (문제점 수정) | 검토 후 |
| v1.2 | Sprint 1 상세화 | 옵션 B 선택 시 |
| v1.3 | 전체 Task 구체화 | 옵션 C 선택 시 (최종) |

---

## 6. Claude Code 연계

### 사전 검토 항목 (Plan 모드)

개발 시작 전 Claude Code에서 확인해야 할 항목:

```bash
# 예시 명령어
plan "C-1 모듈의 body_type_analyses 테이블 구조와 API 엔드포인트를 확인하고, 
      W-1에서 연동할 데이터 흐름을 설계해줘"
```

### Task 시작 템플릿

```markdown
## Task [#번호] 시작
**Task**: [Task 이름]
**예상 시간**: [Xd]
**의존성**: [선행 Task 번호]

### 수락 기준
- Given: ...
- When: ...
- Then: ...

### 파일
- [파일 경로]

### 완료 후 확인
- [ ] 수락 기준 충족
- [ ] TypeScript 에러 없음
- [ ] 로컬 테스트 완료
```

---

## 7. W-1 적용 결과

| 지표 | 값 |
|------|-----|
| 총 Task 수 | 91개 |
| 총 예상 시간 | 64d (버퍼 포함 74d) |
| Sprint 수 | 4개 (8주) |
| 문서 라인 수 | 2,574줄 |
| 작성 소요 시간 | 약 4시간 |

---

## 8. 다음 모듈 (N-1) 적용 시 참고

### 동일하게 적용할 것
- 전체 프로세스 흐름
- 하이브리드 방식 (기능 단위 + 완료 조건)
- 자체 재검토 체크리스트 10가지
- Task 상세 구조 템플릿
- 옵션 C (전체 구체화)

### 모듈별로 조정할 것
- Sprint 문장화 내용
- MVP 우선순위 항목
- 연동 모듈 (W-1, S-1 등)
- 데이터 구축 내용 (식단 DB 등)

---

**문서 버전**: v1.0  
**최종 수정일**: 2025-11-27
