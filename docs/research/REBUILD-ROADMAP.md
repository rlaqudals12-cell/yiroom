# 이룸 리빌딩 로드맵

> MVP → 완전한 앱 전환을 위한 전체 조사 및 실행 계획
> 생성일: 2026-01-15
> 상태: 🔄 계획 수립 중

---

## ⚠️ 최우선 참조: 제1원칙

**모든 리빌딩 의사결정은 [FIRST-PRINCIPLES.md](../FIRST-PRINCIPLES.md)를 먼저 확인합니다.**

> 핵심 질문: **"이 작업이 통합된 자기 이해에 기여하는가?"**

| 작업 유형 | 제1원칙 적용 |
|-----------|-------------|
| 기능 유지/삭제 | 사용되고 있고, 가치가 있는가? |
| 기능 리빌딩 | 복잡도 대비 사용자 가치가 있는가? |
| 기술 선택 | 불필요한 복잡도는 없는가? |

---

## 목표

- **현재**: MVP 단계, 부분적 구현
- **목표**: 완전한 앱 (안정성 + 일관성 + 완성도)
- **방식**: 과감한 삭제 + 새롭게 구축

---

## 기존 계획 문서 참조

### 핵심 문서 (통합 대상)

| 문서 | 내용 | 상태 |
|------|------|------|
| `PLAN-MVP-TO-COMPLETE.md` | 7가지 MVP 전환 작업 | 🔄 일부 완료 |
| `TODO.md` | 파일 구조 현황, Phase 완료 목록 | ✅ 참조용 |
| `ROADMAP-PLATFORM.md` | 수익화 로드맵 (MAU 기반) | 📋 계획 |
| `SDD-MASTER-REFACTORING-PLAN.md` | 대규모 리팩토링 마스터 플랜 | 🔄 검토 필요 |

### PLAN-MVP-TO-COMPLETE.md 요약

| 번호 | 작업명 | 복잡도 | 상태 |
|------|--------|--------|------|
| 1 | 브랜딩 중립화 (핑크→블루) | 낮음 | ⬜ 미완료 |
| 2 | CI/CD 연동 (GitHub Actions) | 중간 | ⬜ 미완료 |
| 3 | user_preferences 마이그레이션 | 중간 | ⬜ 미완료 |
| 4 | Storybook 버전 충돌 해결 | 중간 | ⬜ 미완료 |
| 5 | 내 인벤토리 확장 | 높음 | ⬜ 미완료 |
| 6 | AI 기능 확장 (날씨 코디, 이미지 질문) | 높음 | ⬜ 미완료 |
| 7 | 챌린지 자동 업데이트 | 중간 | ⬜ 미완료 |

### 수익화 로드맵 요약

```
Phase 0 (현재): 무료 AI 분석 → MAU 1만 목표
Phase 1: 어필리에이트 (MAU 1만+) → 월 5만원
Phase 2: 입점 플랫폼 (MAU 10만+) → 월 300만원
Phase 3: 확장 (MAU 50만+) → 월 2,000만원
```

---

## 리빌딩 방향

### 전략: 혼합 + 선별적 리빌딩

```
┌─────────────────────────────────────────────────────────┐
│  [유지 + 보완]     │  [삭제]          │  [리빌딩]       │
│  기존에 좋은 것    │  필요 없는 것    │  문제 있는 것   │
│  ───────────────   │  ─────────────   │  ─────────────  │
│  • 핵심 비즈니스   │  • 미사용 코드   │  • 불안정 API   │
│  • 검증된 패턴     │  • 중복 문서     │  • 불일치 UI    │
│  • 테스트된 로직   │  • 레거시 기능   │  • 취약한 구조  │
└─────────────────────────────────────────────────────────┘
```

### 분류 기준

| 분류 | 조건 | 예시 |
|------|------|------|
| **유지** | 테스트 통과 + 사용 중 + 문제 없음 | PC-1/S-1/C-1 핵심 로직 |
| **보완** | 좋지만 개선 필요 | Mock Fallback 패턴 |
| **삭제** | 미사용 or 중복 or 불필요 | 오래된 문서, 미사용 컴포넌트 |
| **리빌딩** | 문제 있음 or 불일치 | CLAUDE.md, UI 토큰, API 안정성 |

---

## 작업 흐름

```
[사용자] → Claude AI (딥 리서치) → 자료 조사
              ↓
[사용자] → Claude Code (나) → 판단 + 계획 수립
              ↓
[나] → 다음 조사 항목 요청
              ↓
         반복...
              ↓
         구현 실행
```

---

## Phase 0: 현황 파악 ✅

### 완료된 조사
- [x] 현재 코드베이스 분석 (모듈 연동, UI, 기능 완성도)
- [x] 기존 문서 검토 (phase-0 자료 7개 파일)

### 발견된 주요 이슈
| 영역 | 이슈 | 심각도 |
|------|------|--------|
| 문서 | CLAUDE.md 불일치 (현재 vs 경량화) | 🟡 |
| 테스트 | 문서상 2,776개 vs 실제 478개 | 🔴 |
| 모듈 연동 | UI 통합 30% | 🟡 |
| UI | 하드코딩 색상 40+개 | 🟡 |
| 안정성 | Rate Limiting 일부만 | 🔴 |

---

## Phase 1: 기초 조사 (딥 리서치)

### 1.1 아키텍처 & 코드 구조
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| 모노레포 | Turborepo vs Nx 비교, 2026 베스트 프랙티스 | ⬜ | architecture/ |
| 코드 공유 | 웹/모바일 공유 패턴 (packages/shared) | ⬜ | architecture/ |
| 상태 관리 | Zustand vs 다른 대안, 서버 상태 관리 | ⬜ | architecture/ |
| API 설계 | REST vs tRPC, Rate Limiting 전략 | ⬜ | architecture/ |

### 1.2 UI/UX & 디자인 시스템
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| 디자인 토큰 | Tailwind v4 + OKLch 베스트 프랙티스 | ⬜ | ui-ux/ |
| 컴포넌트 | shadcn/ui 고도화, Radix 패턴 | ⬜ | ui-ux/ |
| 모바일 일관성 | NativeWind + 웹 디자인 동기화 | ⬜ | ui-ux/ |
| 접근성 | WCAG 2.1 AA 체크리스트 | ⬜ | ui-ux/ |

### 1.3 AI & 분석 시스템
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| Gemini | Gemini 3 Flash 최적화, 프롬프트 패턴 | ⬜ | ai-system/ |
| Mock Fallback | AI 실패 시 대응 전략 고도화 | ⬜ | ai-system/ |
| 이미지 분석 | 다각도 분석 정확도 향상 방안 | ⬜ | ai-system/ |

### 1.4 데이터 & 백엔드
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| Supabase | RLS 패턴, 성능 최적화 | ⬜ | backend/ |
| 인증 | Clerk 베스트 프랙티스 | ⬜ | backend/ |
| 캐싱 | 데이터 캐싱 전략 | ⬜ | backend/ |

### 1.5 법적 & 보안
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| 개인정보 | 한국 개인정보보호법 최신 요구사항 | ⬜ | legal/ |
| 민감정보 | 생체정보(얼굴/신체) 처리 가이드 | ⬜ | legal/ |
| GDPR | 해외 진출 시 요구사항 | ⬜ | legal/ |

### 1.6 테스트 & 품질
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| 테스트 전략 | 단위/통합/E2E 비율, Vitest + Playwright | ⬜ | testing/ |
| 커버리지 | 목표 커버리지 설정 기준 | ⬜ | testing/ |
| CI/CD | GitHub Actions 최적화 | ⬜ | testing/ |

### 1.7 경쟁사 & 트렌드
| 항목 | 조사 내용 | 상태 | 폴더 |
|------|----------|------|------|
| 뷰티 앱 | 화해, 올리브영, 잼페이스 2026 현황 | ⬜ | competitors/ |
| 운동 앱 | 플랜핏, 눔 2026 현황 | ⬜ | competitors/ |
| 글로벌 | Dressika, Stitch Fix 트렌드 | ⬜ | competitors/ |

---

## Phase 2: 설계 & 의사결정

### 2.1 삭제 대상 결정
- [ ] 불필요한 코드/문서 식별
- [ ] 중복 기능 정리
- [ ] 미사용 의존성 제거

### 2.2 새로 만들 것 결정
- [ ] 아키텍처 재설계
- [ ] 디자인 시스템 정립
- [ ] API 구조 재정의

### 2.3 유지할 것 결정
- [ ] 검증된 패턴 유지
- [ ] 핵심 비즈니스 로직 보존

---

## Phase 3: 구현

### 3.1 기반 정리
- [ ] 룰/문서 정리 (CLAUDE.md 등)
- [ ] 폴더 구조 정리
- [ ] 불필요 코드 삭제

### 3.2 핵심 시스템
- [ ] 디자인 토큰 통합
- [ ] API 안정화
- [ ] 모듈 연동 완성

### 3.3 품질 보증
- [ ] 테스트 정비
- [ ] 문서화 완료

---

## 다음 조사 요청 (Claude AI)

### 즉시 필요 (우선순위 1)

**Claude AI #1**:
```
주제: "2026년 Next.js 16 + React 19 모노레포 아키텍처"

조사 항목:
1. Turborepo 최신 베스트 프랙티스
2. apps/web + apps/mobile 코드 공유 전략
3. packages/shared 구조 패턴
4. 타입 공유 + 디자인 토큰 공유 방법
5. 빌드/테스트 최적화
```

**Claude AI #2**:
```
주제: "2026년 Tailwind CSS v4 디자인 시스템"

조사 항목:
1. OKLch 색상 시스템 적용 가이드
2. CSS 변수 + Tailwind 토큰 통합 패턴
3. 다크모드 구현 베스트 프랙티스
4. 웹/모바일(NativeWind) 토큰 공유 방법
5. 하드코딩 색상 제거 자동화 방법
```

### 이후 필요 (우선순위 2)

- AI 시스템 최적화 (Gemini 3 Flash)
- 법적 요구사항 최신 정리
- 경쟁사 2026 현황 분석

---

## 폴더 구조 (확정 후 생성)

```
docs/research/
├── REBUILD-ROADMAP.md     # 이 문서
├── phase-0/               # ✅ 초기 자료 (완료)
├── architecture/          # 아키텍처 조사
├── ui-ux/                 # UI/UX 조사
├── ai-system/             # AI 시스템 조사
├── backend/               # 백엔드 조사
├── legal/                 # 법적 조사
├── testing/               # 테스트 조사
└── competitors/           # 경쟁사 조사
```

---

## 진행 현황

| 단계 | 상태 | 완료일 |
|------|------|--------|
| Phase 0: 현황 파악 | ✅ 완료 | 2026-01-15 |
| Phase 1: 기초 조사 | 🔄 진행 중 | - |
| Phase 2: 설계 | ⬜ 대기 | - |
| Phase 3: 구현 | ⬜ 대기 | - |

---

## 변경 이력

| 버전 | 날짜 | 내용 |
|------|------|------|
| 0.1 | 2026-01-15 | 초기 로드맵 작성 |
