# 시지푸스 자동 트리거 규칙

> 작업 복잡도에 따라 시지푸스 오케스트레이터 사용 여부를 결정

## 자동 트리거 조건

### 시지푸스 사용 (/sisyphus)

다음 중 하나라도 해당하면 `/sisyphus` 명령 사용:

1. **파일 영향도 높음**
   - 4개 이상 파일 수정 예상
   - 여러 모듈/폴더에 걸친 변경

2. **아키텍처 변경**
   - 새로운 패턴/구조 도입
   - 기존 구조 리팩토링
   - DB 스키마 변경

3. **리스크 요소 존재**
   - 인증/보안 관련 변경
   - 외부 API 연동
   - 결제/민감 데이터 처리

4. **명시적 요청**
   - 사용자가 "검토", "리뷰", "품질 체크" 요청
   - "/sisyphus" 직접 호출

### 직접 실행 (시지푸스 생략)

다음 조건을 **모두** 만족하면 직접 실행:

1. **단순 변경**
   - 1-3개 파일 수정
   - 단일 기능/컴포넌트 범위
   - 독립적 변경 (의존성 낮음)

2. **낮은 리스크**
   - UI/스타일 변경
   - 문서 업데이트
   - 테스트 추가
   - 버그 수정 (원인 명확)

3. **반복 작업**
   - 동일 패턴 반복 적용
   - 이전에 검증된 패턴

## 복잡도 빠른 판단 가이드

```
질문 1: 수정할 파일이 4개 이상인가?
  → 예: /sisyphus
  → 아니오: 질문 2로

질문 2: DB/인증/외부API 관련인가?
  → 예: /sisyphus
  → 아니오: 질문 3으로

질문 3: 새로운 패턴/구조 도입인가?
  → 예: /sisyphus
  → 아니오: 직접 실행
```

## 실행 예시

### 직접 실행 케이스

```
"Button 컴포넌트에 disabled 스타일 추가"
→ 1개 파일, UI 변경, 독립적 → 직접 실행

"README 오타 수정"
→ 1개 파일, 문서, 낮은 리스크 → 직접 실행

"기존 테스트에 엣지케이스 추가"
→ 테스트 파일만, 검증된 패턴 → 직접 실행
```

### 시지푸스 케이스

```
"새로운 결제 모듈 추가"
→ 여러 파일, 외부 API, 민감 데이터 → /sisyphus

"인증 방식 JWT에서 Session으로 변경"
→ 아키텍처 변경, 인증 관련 → /sisyphus

"5개 페이지에 다크모드 적용"
→ 4개 이상 파일 → /sisyphus
```

## 모드별 에이전트 활용

| 복잡도   | 전략     | 에이전트                    |
| -------- | -------- | --------------------------- |
| 0-30점   | direct   | 없음                        |
| 31-50점  | single   | code-quality (Haiku)        |
| 51-70점  | standard | spec + code + test (Sonnet) |
| 71-100점 | full     | 전체 파이프라인 (Opus)      |

## 주의사항

1. **불확실하면 시지푸스 사용**: 판단이 애매하면 `/sisyphus`로 복잡도 분석
2. **점진적 접근**: 큰 작업은 작은 단위로 분할 후 각각 판단
3. **사용자 의도 우선**: 사용자가 빠른 실행을 원하면 직접 실행
